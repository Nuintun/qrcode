!function(){"use strict";let e=new Map;class t{#e;#t;static TERMINATOR=new t([0,0,0],0);static NUMERIC=new t([10,12,14],1);static ALPHANUMERIC=new t([9,11,13],2);static STRUCTURED_APPEND=new t([0,0,0],3);static BYTE=new t([8,16,16],4);static ECI=new t([0,0,0],7);static KANJI=new t([8,10,12],8);static FNC1_FIRST_POSITION=new t([0,0,0],5);static FNC1_SECOND_POSITION=new t([0,0,0],9);static HANZI=new t([8,10,12],13);constructor(t,n){this.#e=n,this.#t=new Int32Array(t),e.set(n,this)}get bits(){return this.#e}getCharacterCountBits(e){let t,{version:n}=e;return t=n<=9?0:n<=26?1:2,this.#t[t]}}function n(e){return 32-Math.clz32(e)}function r(e,t){let r=n(t);for(e<<=r-1;n(e)>=r;)e^=t<<n(e)-r;return e}function i(e){return new Int32Array(Math.ceil(e/32))}class s{#n;#e;constructor(e=0){this.#n=e,this.#e=i(e)}#r(e){let t=this.#e;if(e>32*t.length){let n=i(Math.ceil(e/.75));n.set(t),this.#e=n}this.#n=e}get length(){return this.#n}get byteLength(){return Math.ceil(this.#n/8)}set(e){this.#e[0|e/32]|=1<<(31&e)}get(e){return this.#e[0|e/32]>>>(31&e)&1}xor(e){let t=this.#e,n=e.#e,r=Math.min(this.#n,e.#n);for(let e=0;e<r;e++)t[e]^=n[e]}append(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.#n;if(e instanceof s){t=e.#n,this.#r(n+t);for(let r=0;r<t;r++)e.get(r)&&this.set(n),n++}else{this.#r(n+t);for(let r=t-1;r>=0;r--)e>>>r&1&&this.set(n),n++}}toUint8Array(e,t,n,r){for(let i=0;i<r;i++){let r=0;for(let t=0;t<8;t++)this.get(e++)&&(r|=1<<7-t);t[n+i]=r}}clear(){this.#e.fill(0)}}let w=new Map;class o{#i;#s;static CP437=new o("cp437",2,0);static ISO_8859_1=new o("iso-8859-1",3,1);static ISO_8859_2=new o("iso-8859-2",4);static ISO_8859_3=new o("iso-8859-3",5);static ISO_8859_4=new o("iso-8859-4",6);static ISO_8859_5=new o("iso-8859-5",7);static ISO_8859_6=new o("iso-8859-6",8);static ISO_8859_7=new o("iso-8859-7",9);static ISO_8859_8=new o("iso-8859-8",10);static ISO_8859_9=new o("iso-8859-9",11);static ISO_8859_10=new o("iso-8859-10",12);static ISO_8859_11=new o("iso-8859-11",13);static ISO_8859_13=new o("iso-8859-13",15);static ISO_8859_14=new o("iso-8859-14",16);static ISO_8859_15=new o("iso-8859-15",17);static ISO_8859_16=new o("iso-8859-16",18);static SHIFT_JIS=new o("shift-jis",20);static CP1250=new o("cp1250",21);static CP1251=new o("cp1251",22);static CP1252=new o("cp1252",23);static CP1256=new o("cp1256",24);static UTF_16BE=new o("utf-16be",25);static UTF_8=new o("utf-8",26);static ASCII=new o("ascii",27);static BIG5=new o("big5",28);static GB2312=new o("gb2312",29);static EUC_KR=new o("euc-kr",30);static GBK=new o("gbk",31);static GB18030=new o("gb18030",32);static UTF_16LE=new o("utf-16le",33);static UTF_32BE=new o("utf-32be",34);static UTF_32LE=new o("utf-32le",35);static ISO_646_INV=new o("iso-646-inv",170);static BINARY=new o("binary",899);constructor(e,...t){for(let n of(this.#i=e,this.#s=Object.freeze(t),t))if(n>=0&&n<=999999&&Number.isInteger(n))w.set(n,this);else throw Error("illegal extended channel interpretation value")}get label(){return this.#i}get values(){return this.#s}}function l(e){if(!e)throw Error("segment content should be at least 1 character")}function a(e){let t=0,n=new Map;for(let r of e)n.set(r,t++);return n}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=[],s=[],w=new Map,o=new TextDecoder(e,{fatal:!0});for(let[e,t]of n)for(let n=e;n<=t;n++)i.push(n>>8&255,255&n),s.push(n);let{length:l}=s,a=o.decode(new Uint8Array(i));for(let e=0;e<l;e++){let t=function(e,t){let n=e.at(t);return null!=n?n:""}(a,e);w.has(t)||w.set(t,s[e])}return w}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:256,i=n.length-1,s=[];for(let w=e;w<t;){for(let e=0;e<i;e+=2)s.push([w+n[e],w+n[e+1]]);w+=r}return s}let u=c("gb2312",[41377,41470],[41649,41698],[41701,41710],[41713,41724],[41889,41982],[42145,42227],[42401,42486],[42657,42680],[42689,42712],[42913,42945],[42961,42993],[43169,43194],[43205,43241],[43428,43503],...h(45217,55038,[0,93]),[55201,55289],...h(55457,63486,[0,93])),f=c("shift-jis",[33088,33150],[33152,33196],[33208,33215],[33224,33230],[33242,33256],[33264,33271],[33276,33276],[33359,33368],[33376,33401],[33409,33434],[33439,33521],[33600,33662],[33664,33686],[33695,33718],[33727,33750],[33856,33888],[33904,33918],[33920,33937],[33951,33982],[34975,35068],...h(35136,38908,[0,62,64,188]),[38976,39026],[39071,39164],...h(39232,40956,[0,62,64,188]),...h(57408,59900,[0,62,64,188]),[59968,60030],[60032,60068]),d="0123456789",g=a(d),b=a(`${d}ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`);function p(e){let t=g.get(e);if(null!=t)return t;throw Error(`illegal numeric character: ${e}`)}class y{#w;constructor(e){l(e),this.#w=e}get mode(){return t.NUMERIC}get content(){return this.#w}encode(){let e=new s,t=Array.from(this.#w),{length:n}=t;for(let r=0;r<n;){let i=p(t[r]);if(r+2<n){let n=p(t[r+1]),s=p(t[r+2]);e.append(100*i+10*n+s,10),r+=3}else if(r+1<n){let n=p(t[r+1]);e.append(10*i+n,7),r+=2}else e.append(i,4),r++}return e}}function m(e){let t=b.get(e);if(null!=t)return t;throw Error(`illegal alphanumeric character: ${e}`)}class I{#w;constructor(e){l(e),this.#w=e}get mode(){return t.ALPHANUMERIC}get content(){return this.#w}encode(){let e=new s,t=Array.from(this.#w),{length:n}=t;for(let r=0;r<n;){let i=m(t[r]);if(r+1<n){let n=m(t[r+1]);e.append(45*i+n,11),r+=2}else e.append(i,6),r++}return e}}class C{#w;constructor(e){l(e),this.#w=e}get mode(){return t.HANZI}get content(){return this.#w}encode(){let e=new s;for(let t of this.#w){let n=function(e){let t=u.get(e);return null!=t?t:NaN}(t);if(n>=41377&&n<=43774)n-=41377;else if(n>=45217&&n<=64254)n-=42657;else throw Error(`illegal hanzi character: ${t}`);n=(n>>8)*96+(255&n),e.append(n,13)}return e}}class A{#w;constructor(e){l(e),this.#w=e}get mode(){return t.KANJI}get content(){return this.#w}encode(){let e=new s;for(let t of this.#w){let n=function(e){let t=f.get(e);return null!=t?t:NaN}(t);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw Error(`illegal kanji character: ${t}`);n=(n>>8)*192+(255&n),e.append(n,13)}return e}}class _{#w;#o;constructor(e,t=o.ISO_8859_1){l(e),function(e){if(!(e instanceof o))throw Error("illegal charset")}(t),this.#w=e,this.#o=t}get mode(){return t.BYTE}get content(){return this.#w}get charset(){return this.#o}encode(e){let t=new s;for(let n of e(this.#w,this.#o))t.append(n,8);return t}}function B(e,t,n){return 1===e.get(t,n)}function E(e,t){let n=0,{size:r}=e;for(let i=0;i<r;i++){let s=-1,w=0;for(let o=0;o<r;o++){let r=t?e.get(i,o):e.get(o,i);r===s?w++:(w>=5&&(n+=3+(w-5)),s=r,w=1)}w>=5&&(n+=3+(w-5))}return n}function v(e,t,n,r,i){if(n<0||r>e.size)return!1;for(let s=n;s<r;s++)if(i?B(e,t,s):B(e,s,t))return!1;return!0}function T(e){return E(e)+E(e,!0)+function(e){let t=0,n=e.size-1;for(let r=0;r<n;r++)for(let i=0;i<n;i++){let n=e.get(i,r);n===e.get(i+1,r)&&n===e.get(i,r+1)&&n===e.get(i+1,r+1)&&(t+=3)}return t}(e)+function(e){let t=0,{size:n}=e;for(let r=0;r<n;r++)for(let i=0;i<n;i++)i+6<n&&B(e,i,r)&&!B(e,i+1,r)&&B(e,i+2,r)&&B(e,i+3,r)&&B(e,i+4,r)&&!B(e,i+5,r)&&B(e,i+6,r)&&(v(e,r,i-4,i)||v(e,r,i+7,i+11))&&t++,r+6<n&&B(e,i,r)&&!B(e,i,r+1)&&B(e,i,r+2)&&B(e,i,r+3)&&B(e,i,r+4)&&!B(e,i,r+5)&&B(e,i,r+6)&&(v(e,i,r-4,r,!0)||v(e,i,r+7,r+11,!0))&&t++;return 40*t}(e)+function(e){let t=0,{size:n}=e;for(let r=0;r<n;r++)for(let i=0;i<n;i++)B(e,i,r)&&t++;let r=n*n;return(0|10*Math.abs(2*t-r)/r)*10}(e)}class S{#l;#a;constructor(e){this.#l=e,this.#a=new Int8Array(e*e)}get size(){return this.#l}set(e,t,n){this.#a[t*this.#l+e]=n}get(e,t){return this.#a[t*this.#l+e]}clear(e){this.#a.fill(e)}}class z{#c;#h;constructor(e,t){this.#c=e,this.#h=t}get count(){return this.#c}get numDataCodewords(){return this.#h}}class k{#u;#f;#d;#g;#b;constructor(e,...t){let n=0,r=0;for(let{count:e,numDataCodewords:i}of t)n+=e,r+=i*e;let i=e*n;this.#u=t,this.#d=i,this.#g=r,this.#b=e,this.#f=r+i}get ecBlocks(){return this.#u}get numTotalCodewords(){return this.#f}get numTotalECCodewords(){return this.#d}get numTotalDataCodewords(){return this.#g}get numECCodewordsPerBlock(){return this.#b}}class M{#l;#p;#u;#y;constructor(e,t,...n){this.#p=e,this.#u=n,this.#l=17+4*e,this.#y=t}get size(){return this.#l}get version(){return this.#p}get alignmentPatterns(){return this.#y}getECBlocks(e){let{level:t}=e;return this.#u[t]}}let O=[new M(1,[],new k(7,new z(1,19)),new k(10,new z(1,16)),new k(13,new z(1,13)),new k(17,new z(1,9))),new M(2,[6,18],new k(10,new z(1,34)),new k(16,new z(1,28)),new k(22,new z(1,22)),new k(28,new z(1,16))),new M(3,[6,22],new k(15,new z(1,55)),new k(26,new z(1,44)),new k(18,new z(2,17)),new k(22,new z(2,13))),new M(4,[6,26],new k(20,new z(1,80)),new k(18,new z(2,32)),new k(26,new z(2,24)),new k(16,new z(4,9))),new M(5,[6,30],new k(26,new z(1,108)),new k(24,new z(2,43)),new k(18,new z(2,15),new z(2,16)),new k(22,new z(2,11),new z(2,12))),new M(6,[6,34],new k(18,new z(2,68)),new k(16,new z(4,27)),new k(24,new z(4,19)),new k(28,new z(4,15))),new M(7,[6,22,38],new k(20,new z(2,78)),new k(18,new z(4,31)),new k(18,new z(2,14),new z(4,15)),new k(26,new z(4,13),new z(1,14))),new M(8,[6,24,42],new k(24,new z(2,97)),new k(22,new z(2,38),new z(2,39)),new k(22,new z(4,18),new z(2,19)),new k(26,new z(4,14),new z(2,15))),new M(9,[6,26,46],new k(30,new z(2,116)),new k(22,new z(3,36),new z(2,37)),new k(20,new z(4,16),new z(4,17)),new k(24,new z(4,12),new z(4,13))),new M(10,[6,28,50],new k(18,new z(2,68),new z(2,69)),new k(26,new z(4,43),new z(1,44)),new k(24,new z(6,19),new z(2,20)),new k(28,new z(6,15),new z(2,16))),new M(11,[6,30,54],new k(20,new z(4,81)),new k(30,new z(1,50),new z(4,51)),new k(28,new z(4,22),new z(4,23)),new k(24,new z(3,12),new z(8,13))),new M(12,[6,32,58],new k(24,new z(2,92),new z(2,93)),new k(22,new z(6,36),new z(2,37)),new k(26,new z(4,20),new z(6,21)),new k(28,new z(7,14),new z(4,15))),new M(13,[6,34,62],new k(26,new z(4,107)),new k(22,new z(8,37),new z(1,38)),new k(24,new z(8,20),new z(4,21)),new k(22,new z(12,11),new z(4,12))),new M(14,[6,26,46,66],new k(30,new z(3,115),new z(1,116)),new k(24,new z(4,40),new z(5,41)),new k(20,new z(11,16),new z(5,17)),new k(24,new z(11,12),new z(5,13))),new M(15,[6,26,48,70],new k(22,new z(5,87),new z(1,88)),new k(24,new z(5,41),new z(5,42)),new k(30,new z(5,24),new z(7,25)),new k(24,new z(11,12),new z(7,13))),new M(16,[6,26,50,74],new k(24,new z(5,98),new z(1,99)),new k(28,new z(7,45),new z(3,46)),new k(24,new z(15,19),new z(2,20)),new k(30,new z(3,15),new z(13,16))),new M(17,[6,30,54,78],new k(28,new z(1,107),new z(5,108)),new k(28,new z(10,46),new z(1,47)),new k(28,new z(1,22),new z(15,23)),new k(28,new z(2,14),new z(17,15))),new M(18,[6,30,56,82],new k(30,new z(5,120),new z(1,121)),new k(26,new z(9,43),new z(4,44)),new k(28,new z(17,22),new z(1,23)),new k(28,new z(2,14),new z(19,15))),new M(19,[6,30,58,86],new k(28,new z(3,113),new z(4,114)),new k(26,new z(3,44),new z(11,45)),new k(26,new z(17,21),new z(4,22)),new k(26,new z(9,13),new z(16,14))),new M(20,[6,34,62,90],new k(28,new z(3,107),new z(5,108)),new k(26,new z(3,41),new z(13,42)),new k(30,new z(15,24),new z(5,25)),new k(28,new z(15,15),new z(10,16))),new M(21,[6,28,50,72,94],new k(28,new z(4,116),new z(4,117)),new k(26,new z(17,42)),new k(28,new z(17,22),new z(6,23)),new k(30,new z(19,16),new z(6,17))),new M(22,[6,26,50,74,98],new k(28,new z(2,111),new z(7,112)),new k(28,new z(17,46)),new k(30,new z(7,24),new z(16,25)),new k(24,new z(34,13))),new M(23,[6,30,54,78,102],new k(30,new z(4,121),new z(5,122)),new k(28,new z(4,47),new z(14,48)),new k(30,new z(11,24),new z(14,25)),new k(30,new z(16,15),new z(14,16))),new M(24,[6,28,54,80,106],new k(30,new z(6,117),new z(4,118)),new k(28,new z(6,45),new z(14,46)),new k(30,new z(11,24),new z(16,25)),new k(30,new z(30,16),new z(2,17))),new M(25,[6,32,58,84,110],new k(26,new z(8,106),new z(4,107)),new k(28,new z(8,47),new z(13,48)),new k(30,new z(7,24),new z(22,25)),new k(30,new z(22,15),new z(13,16))),new M(26,[6,30,58,86,114],new k(28,new z(10,114),new z(2,115)),new k(28,new z(19,46),new z(4,47)),new k(28,new z(28,22),new z(6,23)),new k(30,new z(33,16),new z(4,17))),new M(27,[6,34,62,90,118],new k(30,new z(8,122),new z(4,123)),new k(28,new z(22,45),new z(3,46)),new k(30,new z(8,23),new z(26,24)),new k(30,new z(12,15),new z(28,16))),new M(28,[6,26,50,74,98,122],new k(30,new z(3,117),new z(10,118)),new k(28,new z(3,45),new z(23,46)),new k(30,new z(4,24),new z(31,25)),new k(30,new z(11,15),new z(31,16))),new M(29,[6,30,54,78,102,126],new k(30,new z(7,116),new z(7,117)),new k(28,new z(21,45),new z(7,46)),new k(30,new z(1,23),new z(37,24)),new k(30,new z(19,15),new z(26,16))),new M(30,[6,26,52,78,104,130],new k(30,new z(5,115),new z(10,116)),new k(28,new z(19,47),new z(10,48)),new k(30,new z(15,24),new z(25,25)),new k(30,new z(23,15),new z(25,16))),new M(31,[6,30,56,82,108,134],new k(30,new z(13,115),new z(3,116)),new k(28,new z(2,46),new z(29,47)),new k(30,new z(42,24),new z(1,25)),new k(30,new z(23,15),new z(28,16))),new M(32,[6,34,60,86,112,138],new k(30,new z(17,115)),new k(28,new z(10,46),new z(23,47)),new k(30,new z(10,24),new z(35,25)),new k(30,new z(19,15),new z(35,16))),new M(33,[6,30,58,86,114,142],new k(30,new z(17,115),new z(1,116)),new k(28,new z(14,46),new z(21,47)),new k(30,new z(29,24),new z(19,25)),new k(30,new z(11,15),new z(46,16))),new M(34,[6,34,62,90,118,146],new k(30,new z(13,115),new z(6,116)),new k(28,new z(14,46),new z(23,47)),new k(30,new z(44,24),new z(7,25)),new k(30,new z(59,16),new z(1,17))),new M(35,[6,30,54,78,102,126,150],new k(30,new z(12,121),new z(7,122)),new k(28,new z(12,47),new z(26,48)),new k(30,new z(39,24),new z(14,25)),new k(30,new z(22,15),new z(41,16))),new M(36,[6,24,50,76,102,128,154],new k(30,new z(6,121),new z(14,122)),new k(28,new z(6,47),new z(34,48)),new k(30,new z(46,24),new z(10,25)),new k(30,new z(2,15),new z(64,16))),new M(37,[6,28,54,80,106,132,158],new k(30,new z(17,122),new z(4,123)),new k(28,new z(29,46),new z(14,47)),new k(30,new z(49,24),new z(10,25)),new k(30,new z(24,15),new z(46,16))),new M(38,[6,32,58,84,110,136,162],new k(30,new z(4,122),new z(18,123)),new k(28,new z(13,46),new z(32,47)),new k(30,new z(48,24),new z(14,25)),new k(30,new z(42,15),new z(32,16))),new M(39,[6,26,54,82,110,138,166],new k(30,new z(20,117),new z(4,118)),new k(28,new z(40,47),new z(7,48)),new k(30,new z(43,24),new z(22,25)),new k(30,new z(10,15),new z(67,16))),new M(40,[6,30,58,86,114,142,170],new k(30,new z(19,118),new z(6,119)),new k(28,new z(18,47),new z(31,48)),new k(30,new z(34,24),new z(34,25)),new k(30,new z(20,15),new z(61,16)))],N=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],x=[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,1,1,1,1]],D=[[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,7],[8,8],[7,8],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8]];function P(e,t,n){return -1===e.get(t,n)}function U(e,t,n){for(let r=0;r<7;r++){let i=N[r];for(let s=0;s<7;s++)e.set(t+s,n+r,i[s])}}function L(e,t,n){for(let r=0;r<8;r++)e.set(t+r,n,0)}function R(e,t,n){for(let r=0;r<7;r++)e.set(t,n+r,0)}function F(e,t,n,i){let w=new S(t.size);return w.clear(-1),!function(e){let{size:t}=e;U(e,0,0),U(e,t-7,0),U(e,0,t-7),L(e,0,7),L(e,t-8,7),L(e,0,t-8),R(e,7,0),R(e,t-7-1,0),R(e,7,t-7)}(w),function(e,t){let{version:n}=t;if(n>=2){let{alignmentPatterns:t}=O[n-1],{length:r}=t;for(let n=0;n<r;n++){let i=t[n];for(let n=0;n<r;n++){let r=t[n];P(e,r,i)&&function(e,t,n){for(let r=0;r<5;r++){let i=x[r];for(let s=0;s<5;s++)e.set(t+s,n+r,i[s])}}(e,r-2,i-2)}}}}(w,t),function(e){let t=e.size-8;for(let n=8;n<t;n++){let t=n+1&1;P(e,n,6)&&e.set(n,6,t)}for(let n=8;n<t;n++){let t=n+1&1;P(e,6,n)&&e.set(6,n,t)}}(w),!function(e,t,n){let i=new s;!function(e,t,n){let i=t.bits<<3|n;e.append(i,5);let w=r(i,1335);e.append(w,10);let o=new s;o.append(21522,15),e.xor(o)}(i,t,n);let{size:w}=e,{length:o}=i;for(let t=0;t<o;t++){let[n,r]=D[t],s=i.get(o-1-t);e.set(n,r,s),t<8?e.set(w-t-1,8,s):e.set(8,w-7+(t-8),s)}!function(e){e.set(8,e.size-8,1)}(e)}(w,n,i),function(e,t){let{version:n}=t;if(n>=7){let t=new s;!function(e,t){e.append(t,6);let n=r(t,7973);e.append(n,12)}(t,n);let i=17,{size:w}=e;for(let n=0;n<6;n++)for(let r=0;r<3;r++){let s=t.get(i--);e.set(n,w-11+r,s),e.set(w-11+r,n,s)}}}(w,t),function(e,t,n){let r=0,{size:i}=e,{length:s}=t;for(let w=i-1;w>=1;w-=2){6===w&&(w=5);for(let o=0;o<i;o++)for(let l=0;l<2;l++){let a=w-l,c=(w+1&2)==0?i-1-o:o;if(P(e,a,c)){let i=0;r<s&&(i=t.get(r++)),function(e,t,n){let r,i;switch(e){case 0:i=n+t&1;break;case 1:i=1&n;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=(0|n/2)+(0|t/3)&1;break;case 5:i=(1&(r=n*t))+r%3;break;case 6:i=(1&(r=n*t))+r%3&1;break;case 7:i=n*t%3+(n+t&1)&1;break;default:throw Error(`illegal mask: ${e}`)}return 0===i}(n,a,c)&&(i^=1),e.set(a,c,i)}}}}(w,e,i),w}class ${#m;#I;constructor(e,t){this.#m=t,this.#I=e}get ecCodewords(){return this.#m}get dataCodewords(){return this.#I}}class H{#C;#A;constructor(e,t){let{length:n}=t;if(n<=0)throw Error("polynomial coefficients cannot empty");if(this.#C=e,n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;if(e===n)this.#A=new Int32Array([0]);else{let r=new Int32Array(n-e);r.set(t.subarray(e)),this.#A=r}}else this.#A=t}get coefficients(){return this.#A}isZero(){return 0===this.#A[0]}getDegree(){return this.#A.length-1}getCoefficient(e){let t=this.#A;return t[t.length-1-e]}evaluate(e){let t;if(0===e)return this.getCoefficient(0);let n=this.#A;if(1===e){for(let e of(t=0,n))t^=e;return t}[t]=n;let r=this.#C,{length:i}=n;for(let s=1;s<i;s++)t=r.multiply(e,t)^n[s];return t}multiply(e){let t=this.#C,n=this.#A,{length:r}=n;if(e instanceof H){if(this.isZero()||e.isZero())return t.zero;let i=e.#A,s=i.length,w=new Int32Array(r+s-1);for(let e=0;e<r;e++){let r=n[e];for(let n=0;n<s;n++)w[e+n]^=t.multiply(r,i[n])}return new H(t,w)}if(0===e)return t.zero;if(1===e)return this;let i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=t.multiply(n[s],e);return new H(t,i)}multiplyByMonomial(e,t){let n=this.#C;if(0===t)return n.zero;let r=this.#A,{length:i}=r,s=new Int32Array(i+e);for(let e=0;e<i;e++)s[e]=n.multiply(r[e],t);return new H(n,s)}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let t=e.#A,n=t.length,r=this.#A,i=r.length;n<i&&([n,i]=[i,n],[t,r]=[r,t]);let s=n-i,w=new Int32Array(n);w.set(t.subarray(0,s));for(let e=s;e<n;e++)w[e]=r[e-s]^t[e];return new H(this.#C,w)}divide(e){let t=this.#C,n=t.zero,r=this,i=e.getCoefficient(e.getDegree()),s=t.invert(i);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){let i=r.getDegree(),w=i-e.getDegree(),o=t.multiply(r.getCoefficient(i),s),l=e.multiplyByMonomial(w,o),a=t.buildPolynomial(w,o);n=n.addOrSubtract(a),r=r.addOrSubtract(l)}return[n,r]}}let Z=new class{#l;#_;#B;#E;#v;#T;constructor(e,t,n){let r=1,i=new Int32Array(t);for(let n=0;n<t;n++)i[n]=r,(r*=2)>=t&&(r^=e,r&=t-1);let s=new Int32Array(t);for(let e=0,n=t-1;e<n;e++)s[i[e]]=e;this.#l=t,this.#v=i,this.#T=s,this.#E=n,this.#_=new H(this,new Int32Array([1])),this.#B=new H(this,new Int32Array([0]))}get size(){return this.#l}get one(){return this.#_}get zero(){return this.#B}get generator(){return this.#E}exp(e){return this.#v[e]}log(e){return this.#T[e]}invert(e){return this.#v[this.#l-this.#T[e]-1]}multiply(e,t){if(0===e||0===t)return 0;let n=this.#T;return this.#v[(n[e]+n[t])%(this.#l-1)]}buildPolynomial(e,t){if(0===t)return this.#B;let n=new Int32Array(e+1);return n[0]=t,new H(this,n)}}(285,256,0);class G{#C;#S;constructor(e=Z){this.#C=e,this.#S=[new H(e,new Int32Array([1]))]}encode(e,t){let n=e.length-t,r=new Int32Array(n),i=function(e,t,n){let{length:r}=t;if(n>=r){let{generator:i}=e,s=t[r-1];for(let w=r;w<=n;w++){let n=new Int32Array([1,e.exp(w-1+i)]),r=s.multiply(new H(e,n));t.push(r),s=r}}return t[n]}(this.#C,this.#S,t);r.set(e.subarray(0,n));let[,s]=new H(this.#C,r).multiplyByMonomial(t,1).divide(i),{coefficients:w}=s,o=n+(t-w.length);e.fill(0,n,o),e.set(w,o)}}function K(e){return e.mode===t.BYTE}function j(e,t){e.append(t.bits,4)}function Y(e,t,n){let r=t.getECBlocks(n),i=Math.ceil(e/8);return r.numTotalDataCodewords>=i}function J(e,t){for(let n of O)if(Y(e,n,t))return n;throw Error("data too big for all versions")}function Q(e,t){let n=0;for(let{mode:r,head:i,body:s}of e)n+=i.length+r.getCharacterCountBits(t)+s.length;return n}class V{#z;#k;#e;#M;#l;#O;#N;constructor(e){let t=1<<e;this.#z=t,this.#k=t+1,this.#M=e,this.reset()}get bof(){return this.#z}get eof(){return this.#k}get bits(){return this.#e}get depth(){return this.#M}reset(){let e=this.#M+1;this.#e=e,this.#l=1<<e,this.#N=new Map,this.#O=this.#k+1}add(e,t){let n=this.#O;if(n>4095)return!1;this.#N.set(e<<8|t,n++);let r=this.#e,i=this.#l;return n>i&&(i=1<<++r),this.#e=r,this.#l=i,this.#O=n,!0}get(e,t){return this.#N.get(e<<8|t)}}class q{#e=0;#x;#D=0;#a=[];constructor(e){this.#x=e}write(e){let t=this.#e,n=this.#D|e<<t;t+=this.#x.bits;let r=this.#a;for(;t>=8;)r.push(255&n),n>>=8,t-=8;this.#e=t,this.#D=n}pipe(e){let t=this.#a;this.#e>0&&t.push(this.#D),e.writeByte(this.#x.depth);let{length:n}=t;for(let r=0;r<n;){let i=n-r;i>=255?(e.writeByte(255),e.writeBytes(t,r,255),r+=255):(e.writeByte(i),e.writeBytes(t,r,i),r=n)}e.writeByte(0)}}class W{#a=[];get bytes(){return this.#a}writeByte(e){this.#a.push(255&e)}writeInt16(e){this.#a.push(255&e,e>>8&255)}writeBytes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=this.#a;for(let i=0;i<n;i++)r.push(255&e[t+i])}}let{fromCharCode:X}=String;function ee(e){if((e&=63)>=0){if(e<26)return 65+e;if(e<52)return 97+(e-26);if(e<62)return 48+(e-52);if(62===e)return 43;else if(63===e)return 47}throw Error(`illegal char: ${X(e)}`)}class et{#e=0;#D=0;#n=0;#P=new W;get bytes(){return this.#P.bytes}write(e){let t=this.#e+8,n=this.#P,r=this.#D<<8|255&e;for(;t>=6;)n.writeByte(ee(r>>>t-6)),t-=6;this.#n++,this.#e=t,this.#D=r}close(){let e=this.#e,t=this.#P;e>0&&(t.writeByte(ee(this.#D<<6-e)),this.#e=0,this.#D=0);let n=this.#n;if(n%3!=0){let e=3-n%3;for(let n=0;n<e;n++)t.writeByte(61)}}}class en{#U;#L;#R;#F;#$=[];constructor(e,t,{foreground:n=[0,0,0],background:r=[255,255,255]}={}){this.#U=e,this.#L=t,this.#R=n,this.#F=r}#H(){let e=this.#U,t=this.#L,n=new W,r=this.#F,i=this.#R;return n.writeBytes([71,73,70,56,57,97]),n.writeInt16(e),n.writeInt16(t),n.writeBytes([128,0,0]),n.writeBytes([r[0],r[1],r[2]]),n.writeBytes([i[0],i[1],i[2]]),n.writeByte(44),n.writeInt16(0),n.writeInt16(0),n.writeInt16(e),n.writeInt16(t),n.writeByte(0),!function(e,t,n){let r=new V(2),i=new q(r);if(i.write(r.bof),e.length>0){let t=e[0],{length:n}=e;for(let s=1;s<n;s++){let n=e[s],w=r.get(t,n);null!=w?t=w:(i.write(t),r.add(t,n)||(i.write(r.bof),r.reset()),t=n)}i.write(t)}i.write(r.eof),i.pipe(n)}(this.#$,0,n),n.writeByte(59),n.bytes}set(e,t,n){this.#$[t*this.#U+e]=n}toDataURL(){let e=this.#H(),t=new et;for(let n of e)t.write(n);t.close();let n=t.bytes,r="data:image/gif;base64,";for(let e of n)r+=X(e);return r}}class er{#Z;#G;#p;#K;constructor(e,t,n,r){this.#Z=r,this.#G=n,this.#K=e,this.#p=t}get size(){return this.#K.size}get mask(){return this.#Z}get level(){return this.#G.name}get version(){return this.#p.version}get(e,t){let{size:n}=this.#K;if(e<0||t<0||e>=n||t>=n)throw Error(`illegal coordinate: [${e}, ${t}]`);return this.#K.get(e,t)}toDataURL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,{margin:t=4*e,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Math.max(1,e>>0),t=Math.max(0,t>>0);let r=this.#K,i=e*r.size+2*t,s=new en(i,i,n),w=i-t;for(let n=0;n<i;n++)for(let o=0;o<i;o++)if(o>=t&&o<w&&n>=t&&n<w){let i=0|(o-t)/e,w=0|(n-t)/e;s.set(o,n,r.get(i,w))}else s.set(o,n,0);return s.toDataURL()}}let ei=new Map;class es{#j;#e;#G;static L=new es("L",0,1);static M=new es("M",1,0);static Q=new es("Q",2,3);static H=new es("H",3,2);constructor(e,t,n){this.#e=n,this.#j=e,this.#G=t,ei.set(n,this)}get bits(){return this.#e}get name(){return this.#j}get level(){return this.#G}}function ew(e,t){let n=[];for(let r of e){let e=r.codePointAt(0);n.push(null==e||e>t?63:e)}return new Uint8Array(n)}function eo(e,t){switch(t){case o.ASCII:return ew(e,127);case o.ISO_8859_1:return ew(e,255);case o.UTF_8:return new TextEncoder().encode(e);default:throw Error(`built-in encode not support charset: ${t.label}`)}}class el{#Y;#G;#H;#p;constructor({hints:e={},level:t="L",version:n="Auto",encode:r=eo}={}){!function(e){let{fnc1:t}=e;if(null!=t){let[e]=t;if("GS1"!==e&&"AIM"!==e)throw Error("illegal fn1 hint");if("AIM"===e){let[,e]=t;if(e<0||e>255||!Number.isInteger(e))throw Error("illegal fn1 application indicator")}}}(e),function(e){if(0>["L","M","Q","H"].indexOf(e))throw Error("illegal error correction level")}(t),function(e){if("Auto"!==e&&(e<1||e>40||!Number.isInteger(e)))throw Error("illegal version")}(n),this.#Y=e,this.#H=r,this.#p=n,this.#G=es[t]}encode(){let e;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];let w=this.#G,l=this.#H,{fnc1:a}=this.#Y,c=this.#p,h=[],u=!1,[f]=o.ISO_8859_1.values;for(let e of r){let{mode:n}=e,r=new s,i=e.encode(l),w=K(e)?i.byteLength:e.content.length;f=function(e,n,r){if(K(n)){let[i]=n.charset.values;if(i!==r)return e.append(t.ECI.bits,4),i<=127?e.append(i,8):i<=16383?e.append(32768|i,16):e.append(12582912|i,24),i}return r}(r,e,f),null==a||u||(u=!0,function(e,n){let[r,i]=n;switch(r){case"GS1":j(e,t.FNC1_FIRST_POSITION);break;case"AIM":j(e,t.FNC1_SECOND_POSITION),e.append(i,8)}}(r,a)),j(r,n),e.mode===t.HANZI&&r.append(1,4),h.push({mode:n,head:r,body:i,length:w})}if("Auto"===c)e=function(e,t){let n=J(Q(e,O[0]),t);return J(Q(e,n),t)}(h,w);else if(!Y(Q(h,e=O[c-1]),e,w))throw Error("data too big for requested version");let d=new s;for(let{mode:t,head:n,body:r,length:i}of h)d.append(n),function(e,t,n,r){e.append(r,t.getCharacterCountBits(n))}(d,t,e,i),d.append(r);let g=e.getECBlocks(w);!function(e,t){let n=8*t;for(let t=0;t<4&&e.length<n;t++)e.append(0);let r=7&e.length;if(r>0)for(let t=r;t<8;t++)e.append(0);let i=t-e.byteLength;for(let t=0;t<i;t++)e.append(1&t?17:236,8)}(d,g.numTotalDataCodewords);let[b,p]=function(e,t,n){let r=0,i=F(e,t,n,0),s=T(i);for(let w=1;w<8;w++){let o=F(e,t,n,w),l=T(o);l<s&&(r=w,i=o,s=l)}return[r,i]}(function(e,t){let{ecBlocks:n,numECCodewordsPerBlock:r}=t,i=0,w=0,o=0,l=[];for(let{count:t,numDataCodewords:s}of n)for(let n=0;n<t;n++){let t=new Uint8Array(s);e.toUint8Array(8*o,t,0,s);let n=function(e,t){let n=e.length,r=new Int32Array(n+t);return r.set(e),new G().encode(r,t),new Uint8Array(r.subarray(n))}(t,r);l.push(new $(t,n)),o+=s,i=Math.max(i,n.length),w=Math.max(w,s)}let a=new s;for(let e=0;e<w;e++)for(let{dataCodewords:t}of l)e<t.length&&a.append(t[e],8);for(let e=0;e<i;e++)for(let{ecCodewords:t}of l)e<t.length&&a.append(t[e],8);return a}(d,g),e,w);return new er(p,e,w,b)}}function ea(e){let t=parseInt(e.slice(1,7),16);return[t>>16&255,t>>8&255,255&t]}self.addEventListener("message",e=>{let{data:t}=e,{level:n,version:r}=t,i=new el({level:n,version:r,hints:function(e){let{fnc1:t,aimIndicator:n}=e;switch(t){case"GS1":return{fnc1:["GS1"]};case"AIM":return{fnc1:["AIM",+n]}}}(t)});try{let e=i.encode(function(e){let{mode:t,content:n,charset:r}=e;switch(t){case"Auto":if(/^\d+$/.test(n))return new y(n);if(/^[0-9A-Z$%*+-./: ]+$/.test(n))return new I(n);let i=new C(n);try{return i.encode(),i}catch{}let s=new A(n);try{return s.encode(),s}catch{}return new _(n,o[r]);case"Hanzi":return new C(n);case"Kanji":return new A(n);case"Numeric":return new y(n);case"Alphanumeric":return new I(n);default:return new _(n,o[r])}}(t)),{moduleSize:n,quietZone:r,background:s,foreground:w}=t,l={type:"ok",payload:e.toDataURL(n,{margin:r,background:ea(s),foreground:ea(w)})};self.postMessage(l)}catch(t){let e={type:"error",message:t.message};self.postMessage(e)}})}();