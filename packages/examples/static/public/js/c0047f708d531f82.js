"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[344],{4687:function(e,l,n){n.d(l,{c:function(){return r}});var s=n(3740);function r(e){let l=(0,s.useRef)(e);return l.current=(0,s.useMemo)(()=>e,[e]),l}},6664:function(e,l,n){n.d(l,{c:function(){return c}});var s=n(3740),r=n(4687);function c(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,n=(0,s.useRef)(),c=(0,r.c)(l),[t,i]=(0,s.useState)(e),a=(0,s.useCallback)(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.current;clearTimeout(n.current),l<=0?i(e):n.current=setTimeout(()=>{i(e)},l)},[]);return(0,s.useEffect)(()=>()=>{clearTimeout(n.current)},[]),[t,a]}},8344:function(e,l,n){n.r(l),n.d(l,{default:function(){return M}});var s=n(1952),r={result:"ee1aa457",preview:"d52c0583"},c=n(3740),t=n(6664),i=n(1168),a=n(3620),u=n(8264),d=n(9164),o=n(7452),x=n(4974),h=n(4180),m=n(3248),j=n(836),f=n(3016),v=n(8592),p=n(28),b=n(496),g=n(8388);let{Option:A}=u.default,{TextArea:w}=d.default,{Item:I,useForm:k,useWatch:y}=o.default;function S(e){return"string"==typeof e?e:e.toHexString()}let C=(0,c.memo)(function(e){let{value:l}=e;if(l)switch(l.type){case"ok":return(0,s.jsx)(x.c,{src:l.payload,alt:"preview",className:r.preview});case"error":return(0,s.jsx)(h.c,{type:"error",message:l.message,showIcon:!0});default:return(0,s.jsx)(h.c,{type:"error",message:"发生未知错误",showIcon:!0})}return null});var M=(0,c.memo)(function(){let e=(0,c.useRef)(!1),l=(0,c.useRef)(),[d]=k(),x=y(["fnc1"],d),h=y("content",d),[M,T]=(0,t.c)(!1),[L,F]=(0,c.useState)(),N=(0,c.useMemo)(()=>({level:"L",fnc1:"None",mode:"Auto",moduleSize:4,quietZone:16,aimIndicator:0,version:"Auto",charset:"UTF_8",background:"#ffffff",foreground:"#000000",content:"WIFI:S:Gadget Hacks;T:WPA;P:1234567890;;"}),[]),H=(0,c.useMemo)(()=>{let e=[(0,s.jsx)(A,{value:"Auto",children:"Auto"},"Auto")];for(let l=1;l<=40;l++)e.push((0,s.jsx)(A,{value:l,children:l},l));return e},[]),z=(0,c.useCallback)(n=>{let s=l.current;if(s&&!e.current){T(!0),e.current=!0;let l={...n,background:S(n.background),foreground:S(n.foreground)};s.postMessage(l)}},[]),R=(0,c.useCallback)(()=>{let e=d.getFieldValue("moduleSize");d.setFieldsValue({quietZone:4*e})},[]);return(0,c.useEffect)(()=>{let s=new Worker(new URL(n.p+n.u(160),n.b));return s.addEventListener("message",l=>{let{data:n}=l;F(n),T(!1),e.current=!1}),l.current=s,()=>{s.terminate()}},[]),(0,s.jsxs)("div",{className:"ui-page",children:[(0,s.jsx)(o.default,{form:d,layout:"vertical",onFinish:z,initialValues:N,children:(0,s.jsxs)(m.c,{gutter:24,children:[(0,s.jsx)(j.c,{span:24,children:(0,s.jsx)(I,{name:"content",children:(0,s.jsx)(w,{rows:8,allowClear:!0})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"fnc1",label:"支持 FNC1",children:(0,s.jsxs)(u.default,{children:[(0,s.jsx)(A,{value:"None",children:"否"}),(0,s.jsx)(A,{value:"AIM",children:"AIM"}),(0,s.jsx)(A,{value:"GS1",children:"GS1"})]})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"aimIndicator",label:"AIM 标识",children:(0,s.jsx)(f.c,{disabled:"AIM"!==x,min:0,max:255,precision:0,style:{width:"100%"}})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"version",label:"版本大小",children:(0,s.jsx)(u.default,{children:H})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"level",label:"纠错等级",children:(0,s.jsxs)(u.default,{children:[(0,s.jsx)(A,{value:"L",children:"Level L (7%)"}),(0,s.jsx)(A,{value:"M",children:"Level M (15%)"}),(0,s.jsx)(A,{value:"Q",children:"Level Q (25%)"}),(0,s.jsx)(A,{value:"H",children:"Level H (30%)"})]})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"mode",label:"编码模式",children:(0,s.jsxs)(u.default,{children:[(0,s.jsx)(A,{value:"Auto",selected:!0,children:"Auto"}),(0,s.jsx)(A,{value:"Alphanumeric",children:"Alphanumeric"}),(0,s.jsx)(A,{value:"Byte",children:"Byte"}),(0,s.jsx)(A,{value:"Hanzi",children:"Hanzi"}),(0,s.jsx)(A,{value:"Kanji",children:"Kanji"}),(0,s.jsx)(A,{value:"Numeric",children:"Numeric"})]})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"charset",label:"字符编码",children:(0,s.jsxs)(u.default,{children:[(0,s.jsx)(A,{value:"ASCII",children:"ASCII"}),(0,s.jsx)(A,{value:"UTF_8",children:"UTF-8"}),(0,s.jsx)(A,{value:"ISO_8859_1",children:"ISO-8859-1"})]})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"moduleSize",label:"模块大小",children:(0,s.jsx)(f.c,{min:1,max:50,precision:0,style:{width:"100%"}})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"quietZone",label:"静区大小",tooltip:"推荐 4 倍模块大小",children:(0,s.jsx)(f.c,{min:0,max:200,precision:0,style:{width:"100%"},addonAfter:(0,s.jsx)(v.c,{title:"自动计算",children:(0,s.jsx)(i.c,{onClick:R})})})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"foreground",label:"前景颜色",children:(0,s.jsx)(p.c,{showText:!0,disabledAlpha:!0})})}),(0,s.jsx)(j.c,{md:6,sm:12,xs:24,children:(0,s.jsx)(I,{name:"background",label:"背景颜色",children:(0,s.jsx)(p.c,{showText:!0,disabledAlpha:!0})})}),(0,s.jsx)(j.c,{span:24,children:(0,s.jsx)(b.cp,{type:"primary",htmlType:"submit",loading:M,disabled:!h,icon:(0,s.jsx)(a.c,{component:g.c}),children:"编码"})})]})}),(0,s.jsx)("div",{className:r.result,children:(0,s.jsx)(C,{value:L})})]})})}}]);