"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[173],{8093:function(e,n,l){l.d(n,{Z:function(){return r}});var s=l(2363);function r(e){let n=(0,s.useRef)(e);return n.current=(0,s.useMemo)(()=>e,[e]),n}},6705:function(e,n,l){l.d(n,{Z:function(){return t}});var s=l(2363),r=l(8093);function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,l=(0,s.useRef)(),t=(0,r.Z)(n),[a,i]=(0,s.useState)(e),c=(0,s.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.current;clearTimeout(l.current),n<=0?i(e):l.current=setTimeout(()=>{i(e)},n)},[]);return(0,s.useEffect)(()=>()=>{clearTimeout(l.current)},[]),[a,c]}},8173:function(e,n,l){l.r(n),l.d(n,{default:function(){return M}});var s=l(9980),r={result:"ee1aa457",qrcode:"eac52862"},t=l(2363),a=l(9882),i=l(6705),c=l(6785),u=l(6976),d=l(5294),o=l(4188),x=l(7571),h=l(3963),m=l(9738),j=l(1599),f=l(872),v=l(438),Z=l(590);let{Option:b}=c.default,{TextArea:p}=u.default,{Item:g,useForm:I,useWatch:w}=d.default,A=new Worker(new URL(l.p+l.u(598),l.b));function y(e){return"string"==typeof e?e:e.toHexString()}let k=(0,t.memo)(function(e){let{value:n}=e;if(n){let{data:e}=n;switch(n.type){case"ok":return(0,s.jsx)(o.Z,{className:r.qrcode,src:e,alt:"qrcode"});case"error":return(0,s.jsx)(x.Z,{type:"error",message:e,showIcon:!0});default:return(0,s.jsx)(x.Z,{type:"error",message:"发生未知错误",showIcon:!0})}}return null});var M=(0,t.memo)(function(){let[e]=I(),n=w(["fnc1"],e),l=w("content",e),u=(0,t.useMemo)(()=>{let e=[(0,s.jsx)(b,{value:"auto",children:"Auto"},"auto")];for(let n=1;n<=40;n++)e.push((0,s.jsx)(b,{value:n,children:n},n));return e},[]),o=(0,t.useMemo)(()=>({level:"M",fnc1:"None",mode:"Auto",moduleSize:4,quietZone:16,aimIndicator:0,version:"auto",charset:"UTF_8",background:"#ffffff",foreground:"#000000",content:"https://github.com/nuintun/qrcode"}),[]),x=(0,t.useRef)(!1),[M,S]=(0,i.Z)(!1),[L,T]=(0,t.useState)();(0,t.useEffect)(()=>{let e=e=>{let{data:n}=e;T(n),S(!1),x.current=!1};return A.addEventListener("message",e),()=>{A.removeEventListener("message",e)}},[]);let C=(0,t.useCallback)(e=>{if(!x.current){S(!0),x.current=!0;let{background:n,foreground:l}=e;A.postMessage({...e,background:y(n),foreground:y(l)})}},[]);return(0,s.jsxs)("div",{className:"page",children:[(0,s.jsx)(d.default,{form:e,onFinish:C,layout:"vertical",initialValues:o,children:(0,s.jsxs)(h.Z,{gutter:24,children:[(0,s.jsx)(m.Z,{span:24,children:(0,s.jsx)(g,{name:"content",children:(0,s.jsx)(p,{rows:8,allowClear:!0})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"fnc1",label:"支持 FNC1",children:(0,s.jsxs)(c.default,{children:[(0,s.jsx)(b,{value:"None",children:"否"}),(0,s.jsx)(b,{value:"AIM",children:"AIM"}),(0,s.jsx)(b,{value:"GS1",children:"GS1"})]})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"aimIndicator",label:"AIM 标识",children:(0,s.jsx)(j.Z,{disabled:"AIM"!==n,min:0,max:255,style:{width:"100%"}})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"version",label:"版本大小",children:(0,s.jsx)(c.default,{children:u})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"level",label:"纠错等级",children:(0,s.jsxs)(c.default,{children:[(0,s.jsx)(b,{value:"L",children:"Level L (7%)"}),(0,s.jsx)(b,{value:"M",children:"Level M (15%)"}),(0,s.jsx)(b,{value:"Q",children:"Level Q (25%)"}),(0,s.jsx)(b,{value:"H",children:"Level H (30%)"})]})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"mode",label:"编码模式",children:(0,s.jsxs)(c.default,{children:[(0,s.jsx)(b,{value:"Auto",selected:!0,children:"Auto"}),(0,s.jsx)(b,{value:"Alphanumeric",children:"Alphanumeric"}),(0,s.jsx)(b,{value:"Byte",children:"Byte"}),(0,s.jsx)(b,{value:"Hanzi",children:"Hanzi"}),(0,s.jsx)(b,{value:"Kanji",children:"Kanji"}),(0,s.jsx)(b,{value:"Numeric",children:"Numeric"})]})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"charset",label:"字符编码",children:(0,s.jsxs)(c.default,{children:[(0,s.jsx)(b,{value:"ASCII",children:"ASCII"}),(0,s.jsx)(b,{value:"UTF_8",children:"UTF-8"}),(0,s.jsx)(b,{value:"ISO_8859_1",children:"ISO-8859-1"})]})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"moduleSize",label:"模块大小",children:(0,s.jsx)(j.Z,{min:1,max:50,style:{width:"100%"}})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"quietZone",label:"静区大小",children:(0,s.jsx)(j.Z,{min:0,max:200,style:{width:"100%"}})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"foreground",label:"前景颜色",children:(0,s.jsx)(f.Z,{showText:!0,disabledAlpha:!0})})}),(0,s.jsx)(m.Z,{md:6,sm:12,xs:24,children:(0,s.jsx)(g,{name:"background",label:"背景颜色",children:(0,s.jsx)(f.Z,{showText:!0,disabledAlpha:!0})})}),(0,s.jsx)(m.Z,{span:24,children:(0,s.jsx)(v.ZP,{type:"primary",htmlType:"submit",loading:M,disabled:!l,icon:(0,s.jsx)(a.Z,{component:Z.Z}),children:"编码"})})]})}),(0,s.jsx)("div",{className:r.result,children:(0,s.jsx)(k,{value:L})})]})})}}]);