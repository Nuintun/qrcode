/*! For license information please see 172eed7250322887.js.LICENSE.txt */
!function(){"use strict";const e=new Map;class n{#e;#n;static TERMINATOR=new n([0,0,0],0);static NUMERIC=new n([10,12,14],1);static ALPHANUMERIC=new n([9,11,13],2);static STRUCTURED_APPEND=new n([0,0,0],3);static BYTE=new n([8,16,16],4);static ECI=new n([0,0,0],7);static KANJI=new n([8,10,12],8);static FNC1_FIRST_POSITION=new n([0,0,0],5);static FNC1_SECOND_POSITION=new n([0,0,0],9);static HANZI=new n([8,10,12],13);constructor(n,t){this.#e=t,this.#n=new Int32Array(n),e.set(t,this)}get bits(){return this.#e}getCharacterCountBits({version:e}){let n;return n=e<=9?0:e<=26?1:2,this.#n[n]}}function t(e){return 0|e}function s(e){return 32-Math.clz32(e)}function r(e,n){const t=s(n);for(e<<=t-1;s(e)>=t;)e^=n<<s(e)-t;return e}function o(e){return t(e/32)}function i(e){return new Int32Array(Math.ceil(e/32))}class w{#t;#e;constructor(e=0){this.#t=e,this.#e=i(e)}#s(e){const n=this.#e;if(e>32*n.length){const t=i(Math.ceil(e/.75));t.set(n),this.#e=t}this.#t=e}get length(){return this.#t}get byteLength(){return Math.ceil(this.#t/8)}set(e){this.#e[o(e)]|=1<<(31&e)}get(e){return this.#e[o(e)]>>>(31&e)&1}xor(e){const n=this.#e,t=e.#e,s=Math.min(this.#t,e.#t);for(let e=0;e<s;e++)n[e]^=t[e]}append(e,n=1){let t=this.#t;if(e instanceof w){n=e.#t,this.#s(t+n);for(let s=0;s<n;s++)e.get(s)&&this.set(t),t++}else{this.#s(t+n);for(let s=n-1;s>=0;s--)e>>>s&1&&this.set(t),t++}}toUint8Array(e,n,t,s){for(let r=0;r<s;r++){let s=0;for(let n=0;n<8;n++)this.get(e++)&&(s|=1<<7-n);n[t+r]=s}}clear(){this.#e.fill(0)}}const c=new Map;class a{#r;#o;static CP437=new a("cp437",0,2);static ISO_8859_1=new a("iso-8859-1",1,3);static ISO_8859_2=new a("iso-8859-2",4);static ISO_8859_3=new a("iso-8859-3",5);static ISO_8859_4=new a("iso-8859-4",6);static ISO_8859_5=new a("iso-8859-5",7);static ISO_8859_6=new a("iso-8859-6",8);static ISO_8859_7=new a("iso-8859-7",9);static ISO_8859_8=new a("iso-8859-8",10);static ISO_8859_9=new a("iso-8859-9",11);static ISO_8859_10=new a("iso-8859-10",12);static ISO_8859_11=new a("iso-8859-11",13);static ISO_8859_13=new a("iso-8859-13",15);static ISO_8859_14=new a("iso-8859-14",16);static ISO_8859_15=new a("iso-8859-15",17);static ISO_8859_16=new a("iso-8859-16",18);static SJIS=new a("sjis",20);static CP1250=new a("cp1250",21);static CP1251=new a("cp1251",22);static CP1252=new a("cp1252",23);static CP1256=new a("cp1256",24);static UTF_16BE=new a("utf-16be",25);static UTF_8=new a("utf-8",26);static ASCII=new a("ascii",27,170);static BIG5=new a("big5",28);static GB18030=new a("gb18030",29);static EUC_KR=new a("euc-kr",30);constructor(e,...n){this.#r=e,this.#o=n;for(const e of n)c.set(e,this)}get label(){return this.#r}get values(){return this.#o}}function l(e){if(!e)throw new Error("segment content should be at least 1 character")}function h(e,n){const t=[];for(const s of e){const e=s.charCodeAt(0);t.push(e>n?63:e)}return new Uint8Array(t)}function u(e,n){switch(n){case a.ASCII:return h(e,127);case a.ISO_8859_1:return h(e,255);case a.UTF_8:return(new TextEncoder).encode(e);default:throw Error("built-in encode only support ascii, utf-8 and iso-8859-1 charset")}}const f="0123456789",d=`${f}ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`;function g(e){let n=0;const t=new Map;for(const s of e)t.set(s,n++);return t}function p(e,...n){const t=[],s=[],r=new Map,o=new TextDecoder(e,{fatal:!0});for(const[e,r]of n)for(let n=e;n<=r;n++)t.push(n>>8,255&n),s.push(n);const{length:i}=s,w=o.decode(new Uint8Array(t));for(let e=0;e<i;e++){const n=w.charAt(e);r.has(n)||r.set(n,s[e])}return r}function b(e,n,t,s=256){const r=t.length-1,o=[];for(let i=e;i<n;){for(let e=0;e<r;e+=2)o.push([i+t[e],i+t[e+1]]);i+=s}return o}const m=g(f);function y(e){const n=m.get(e);if(null!=n)return n;throw new Error(`illegal numeric character: ${e}`)}class C{#i;constructor(e){l(e),this.#i=e}get mode(){return n.NUMERIC}get content(){return this.#i}encode(){const e=new w,n=this.#i,{length:t}=n;for(let s=0;s<t;){const r=y(n.charAt(s));if(s+2<t){const t=y(n.charAt(s+1)),o=y(n.charAt(s+2));e.append(100*r+10*t+o,10),s+=3}else if(s+1<t){const t=y(n.charAt(s+1));e.append(10*r+t,7),s+=2}else e.append(r,4),s++}return e}}const I=g(d);function A(e){const n=I.get(e);if(null!=n)return n;throw new Error(`illegal alphanumeric character: ${e}`)}class B{#i;constructor(e){l(e),this.#i=e}get mode(){return n.ALPHANUMERIC}get content(){return this.#i}encode(){const e=new w,n=this.#i,{length:t}=n;for(let s=0;s<t;){const r=A(n.charAt(s));if(s+1<t){const t=A(n.charAt(s+1));e.append(45*r+t,11),s+=2}else e.append(r,6),s++}return e}}const _=p("gb2312",[41377,41470],[41649,41698],[41701,41710],[41713,41724],[41889,41982],[42145,42227],[42401,42486],[42657,42680],[42689,42712],[42913,42945],[42961,42993],[43169,43194],[43205,43241],[43428,43503],...b(45217,55038,[0,93]),[55201,55289],...b(55457,63486,[0,93]));function v(e){const n=_.get(e);return null!=n?n:-1}class E{#i;constructor(e){l(e),this.#i=e}get mode(){return n.HANZI}get content(){return this.#i}encode(){const e=new w,n=this.#i;for(const t of n){let n=v(t);if(n>=41377&&n<=43774)n-=41377;else{if(!(n>=45217&&n<=64254))throw new Error(`illegal hanzi character: ${t}`);n-=42657}n=96*(n>>8)+(255&n),e.append(n,13)}return e}}const z=p("shift-jis",[33088,33150],[33152,33196],[33208,33215],[33224,33230],[33242,33256],[33264,33271],[33276,33276],[33359,33368],[33376,33401],[33409,33434],[33439,33521],[33600,33662],[33664,33686],[33695,33718],[33727,33750],[33856,33888],[33904,33918],[33920,33937],[33951,33982],[34975,35068],...b(35136,38908,[0,62,64,188]),[38976,39026],[39071,39164],...b(39232,40956,[0,62,64,188]),...b(57408,59900,[0,62,64,188]),[59968,60030],[60032,60068]);function S(e){const n=z.get(e);return null!=n?n:-1}class T{#i;constructor(e){l(e),this.#i=e}get mode(){return n.KANJI}get content(){return this.#i}encode(){const e=new w,n=this.#i;for(const t of n){let n=S(t);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error(`illegal kanji character: ${t}`);n-=49472}n=192*(n>>8)+(255&n),e.append(n,13)}return e}}class k{#i;#w;constructor(e,n=a.ISO_8859_1){l(e),function(e){if(!(e instanceof a))throw new Error("illegal charset")}(n),this.#i=e,this.#w=n}get mode(){return n.BYTE}get content(){return this.#i}get charset(){return this.#w}encode(e){const n=new w,t=e(this.#i,this.#w);for(const e of t)n.append(e,8);return n}}class M{#c;#a;constructor(e,n){this.#c=e,this.#a=n}get count(){return this.#c}get numDataCodewords(){return this.#a}}class O{#l;#h;#u;#f;#d;constructor(e,...n){let t=0,s=0;for(const{count:e,numDataCodewords:r}of n)t+=e,s+=r*e;const r=e*t;this.#l=n,this.#u=r,this.#f=s,this.#d=e,this.#h=s+r}get ecBlocks(){return this.#l}get numTotalCodewords(){return this.#h}get numTotalECCodewords(){return this.#u}get numTotalDataCodewords(){return this.#f}get numECCodewordsPerBlock(){return this.#d}}class D{#g;#p;#l;#b;constructor(e,n,...t){this.#p=e,this.#l=t,this.#g=17+4*e,this.#b=n}get size(){return this.#g}get version(){return this.#p}get alignmentPatterns(){return this.#b}getECBlocks({level:e}){return this.#l[e]}}const N=[new D(1,[],new O(7,new M(1,19)),new O(10,new M(1,16)),new O(13,new M(1,13)),new O(17,new M(1,9))),new D(2,[6,18],new O(10,new M(1,34)),new O(16,new M(1,28)),new O(22,new M(1,22)),new O(28,new M(1,16))),new D(3,[6,22],new O(15,new M(1,55)),new O(26,new M(1,44)),new O(18,new M(2,17)),new O(22,new M(2,13))),new D(4,[6,26],new O(20,new M(1,80)),new O(18,new M(2,32)),new O(26,new M(2,24)),new O(16,new M(4,9))),new D(5,[6,30],new O(26,new M(1,108)),new O(24,new M(2,43)),new O(18,new M(2,15),new M(2,16)),new O(22,new M(2,11),new M(2,12))),new D(6,[6,34],new O(18,new M(2,68)),new O(16,new M(4,27)),new O(24,new M(4,19)),new O(28,new M(4,15))),new D(7,[6,22,38],new O(20,new M(2,78)),new O(18,new M(4,31)),new O(18,new M(2,14),new M(4,15)),new O(26,new M(4,13),new M(1,14))),new D(8,[6,24,42],new O(24,new M(2,97)),new O(22,new M(2,38),new M(2,39)),new O(22,new M(4,18),new M(2,19)),new O(26,new M(4,14),new M(2,15))),new D(9,[6,26,46],new O(30,new M(2,116)),new O(22,new M(3,36),new M(2,37)),new O(20,new M(4,16),new M(4,17)),new O(24,new M(4,12),new M(4,13))),new D(10,[6,28,50],new O(18,new M(2,68),new M(2,69)),new O(26,new M(4,43),new M(1,44)),new O(24,new M(6,19),new M(2,20)),new O(28,new M(6,15),new M(2,16))),new D(11,[6,30,54],new O(20,new M(4,81)),new O(30,new M(1,50),new M(4,51)),new O(28,new M(4,22),new M(4,23)),new O(24,new M(3,12),new M(8,13))),new D(12,[6,32,58],new O(24,new M(2,92),new M(2,93)),new O(22,new M(6,36),new M(2,37)),new O(26,new M(4,20),new M(6,21)),new O(28,new M(7,14),new M(4,15))),new D(13,[6,34,62],new O(26,new M(4,107)),new O(22,new M(8,37),new M(1,38)),new O(24,new M(8,20),new M(4,21)),new O(22,new M(12,11),new M(4,12))),new D(14,[6,26,46,66],new O(30,new M(3,115),new M(1,116)),new O(24,new M(4,40),new M(5,41)),new O(20,new M(11,16),new M(5,17)),new O(24,new M(11,12),new M(5,13))),new D(15,[6,26,48,70],new O(22,new M(5,87),new M(1,88)),new O(24,new M(5,41),new M(5,42)),new O(30,new M(5,24),new M(7,25)),new O(24,new M(11,12),new M(7,13))),new D(16,[6,26,50,74],new O(24,new M(5,98),new M(1,99)),new O(28,new M(7,45),new M(3,46)),new O(24,new M(15,19),new M(2,20)),new O(30,new M(3,15),new M(13,16))),new D(17,[6,30,54,78],new O(28,new M(1,107),new M(5,108)),new O(28,new M(10,46),new M(1,47)),new O(28,new M(1,22),new M(15,23)),new O(28,new M(2,14),new M(17,15))),new D(18,[6,30,56,82],new O(30,new M(5,120),new M(1,121)),new O(26,new M(9,43),new M(4,44)),new O(28,new M(17,22),new M(1,23)),new O(28,new M(2,14),new M(19,15))),new D(19,[6,30,58,86],new O(28,new M(3,113),new M(4,114)),new O(26,new M(3,44),new M(11,45)),new O(26,new M(17,21),new M(4,22)),new O(26,new M(9,13),new M(16,14))),new D(20,[6,34,62,90],new O(28,new M(3,107),new M(5,108)),new O(26,new M(3,41),new M(13,42)),new O(30,new M(15,24),new M(5,25)),new O(28,new M(15,15),new M(10,16))),new D(21,[6,28,50,72,94],new O(28,new M(4,116),new M(4,117)),new O(26,new M(17,42)),new O(28,new M(17,22),new M(6,23)),new O(30,new M(19,16),new M(6,17))),new D(22,[6,26,50,74,98],new O(28,new M(2,111),new M(7,112)),new O(28,new M(17,46)),new O(30,new M(7,24),new M(16,25)),new O(24,new M(34,13))),new D(23,[6,30,54,78,102],new O(30,new M(4,121),new M(5,122)),new O(28,new M(4,47),new M(14,48)),new O(30,new M(11,24),new M(14,25)),new O(30,new M(16,15),new M(14,16))),new D(24,[6,28,54,80,106],new O(30,new M(6,117),new M(4,118)),new O(28,new M(6,45),new M(14,46)),new O(30,new M(11,24),new M(16,25)),new O(30,new M(30,16),new M(2,17))),new D(25,[6,32,58,84,110],new O(26,new M(8,106),new M(4,107)),new O(28,new M(8,47),new M(13,48)),new O(30,new M(7,24),new M(22,25)),new O(30,new M(22,15),new M(13,16))),new D(26,[6,30,58,86,114],new O(28,new M(10,114),new M(2,115)),new O(28,new M(19,46),new M(4,47)),new O(28,new M(28,22),new M(6,23)),new O(30,new M(33,16),new M(4,17))),new D(27,[6,34,62,90,118],new O(30,new M(8,122),new M(4,123)),new O(28,new M(22,45),new M(3,46)),new O(30,new M(8,23),new M(26,24)),new O(30,new M(12,15),new M(28,16))),new D(28,[6,26,50,74,98,122],new O(30,new M(3,117),new M(10,118)),new O(28,new M(3,45),new M(23,46)),new O(30,new M(4,24),new M(31,25)),new O(30,new M(11,15),new M(31,16))),new D(29,[6,30,54,78,102,126],new O(30,new M(7,116),new M(7,117)),new O(28,new M(21,45),new M(7,46)),new O(30,new M(1,23),new M(37,24)),new O(30,new M(19,15),new M(26,16))),new D(30,[6,26,52,78,104,130],new O(30,new M(5,115),new M(10,116)),new O(28,new M(19,47),new M(10,48)),new O(30,new M(15,24),new M(25,25)),new O(30,new M(23,15),new M(25,16))),new D(31,[6,30,56,82,108,134],new O(30,new M(13,115),new M(3,116)),new O(28,new M(2,46),new M(29,47)),new O(30,new M(42,24),new M(1,25)),new O(30,new M(23,15),new M(28,16))),new D(32,[6,34,60,86,112,138],new O(30,new M(17,115)),new O(28,new M(10,46),new M(23,47)),new O(30,new M(10,24),new M(35,25)),new O(30,new M(19,15),new M(35,16))),new D(33,[6,30,58,86,114,142],new O(30,new M(17,115),new M(1,116)),new O(28,new M(14,46),new M(21,47)),new O(30,new M(29,24),new M(19,25)),new O(30,new M(11,15),new M(46,16))),new D(34,[6,34,62,90,118,146],new O(30,new M(13,115),new M(6,116)),new O(28,new M(14,46),new M(23,47)),new O(30,new M(44,24),new M(7,25)),new O(30,new M(59,16),new M(1,17))),new D(35,[6,30,54,78,102,126,150],new O(30,new M(12,121),new M(7,122)),new O(28,new M(12,47),new M(26,48)),new O(30,new M(39,24),new M(14,25)),new O(30,new M(22,15),new M(41,16))),new D(36,[6,24,50,76,102,128,154],new O(30,new M(6,121),new M(14,122)),new O(28,new M(6,47),new M(34,48)),new O(30,new M(46,24),new M(10,25)),new O(30,new M(2,15),new M(64,16))),new D(37,[6,28,54,80,106,132,158],new O(30,new M(17,122),new M(4,123)),new O(28,new M(29,46),new M(14,47)),new O(30,new M(49,24),new M(10,25)),new O(30,new M(24,15),new M(46,16))),new D(38,[6,32,58,84,110,136,162],new O(30,new M(4,122),new M(18,123)),new O(28,new M(13,46),new M(32,47)),new O(30,new M(48,24),new M(14,25)),new O(30,new M(42,15),new M(32,16))),new D(39,[6,26,54,82,110,138,166],new O(30,new M(20,117),new M(4,118)),new O(28,new M(40,47),new M(7,48)),new O(30,new M(43,24),new M(22,25)),new O(30,new M(10,15),new M(67,16))),new D(40,[6,30,58,86,114,142,170],new O(30,new M(19,118),new M(6,119)),new O(28,new M(18,47),new M(31,48)),new O(30,new M(34,24),new M(34,25)),new O(30,new M(20,15),new M(61,16)))];const P=3,x=3,U=40,L=10;function R(e,n,t){return 1===e.get(n,t)}function Z(e,n){let t=0;const{size:s}=e;for(let r=0;r<s;r++){let o=-1,i=0;for(let w=0;w<s;w++){const s=n?e.get(r,w):e.get(w,r);s===o?i++:(i>=5&&(t+=P+(i-5)),o=s,i=1)}i>=5&&(t+=P+(i-5))}return t}function $(e,n,t,s,r){if(t<0||s>e.size)return!1;for(let o=t;o<s;o++)if(r?R(e,n,o):R(e,o,n))return!1;return!0}function F(e){return function(e){return Z(e)+Z(e,!0)}(e)+function(e){let n=0;const t=e.size-1;for(let s=0;s<t;s++)for(let r=0;r<t;r++){const t=e.get(r,s);t===e.get(r+1,s)&&t===e.get(r,s+1)&&t===e.get(r+1,s+1)&&(n+=x)}return n}(e)+function(e){let n=0;const{size:t}=e;for(let s=0;s<t;s++)for(let r=0;r<t;r++)r+6<t&&R(e,r,s)&&!R(e,r+1,s)&&R(e,r+2,s)&&R(e,r+3,s)&&R(e,r+4,s)&&!R(e,r+5,s)&&R(e,r+6,s)&&($(e,s,r-4,r)||$(e,s,r+7,r+11))&&n++,s+6<t&&R(e,r,s)&&!R(e,r,s+1)&&R(e,r,s+2)&&R(e,r,s+3)&&R(e,r,s+4)&&!R(e,r,s+5)&&R(e,r,s+6)&&($(e,r,s-4,s,!0)||$(e,r,s+7,s+11,!0))&&n++;return n*U}(e)+function(e){let n=0;const{size:s}=e;for(let t=0;t<s;t++)for(let r=0;r<s;r++)R(e,r,t)&&n++;const r=s*s;return t(10*Math.abs(2*n-r)/r)*L}(e)}function H(e,n,s){let r,o;switch(e){case 0:o=s+n&1;break;case 1:o=1&s;break;case 2:o=n%3;break;case 3:o=(s+n)%3;break;case 4:o=t(s/2)+t(n/3)&1;break;case 5:r=s*n,o=(1&r)+r%3;break;case 6:r=s*n,o=(1&r)+r%3&1;break;case 7:o=s*n%3+(s+n&1)&1;break;default:throw new Error(`illegal mask: ${e}`)}return 0===o}const G=1335,K=21522,j=7973,J=[[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,7],[8,8],[7,8],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8]],Q=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,1,1,1,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Y=[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,1,1,1,1]];function q(e,n,t){return-1===e.get(n,t)}function V(e,n,t){for(let s=0;s<7;s++){const r=Q[s];for(let o=0;o<7;o++)e.set(n+o,t+s,r[o])}}function X(e,n,t){for(let s=0;s<8;s++)e.set(n+s,t,0)}function W(e,n,t){for(let s=0;s<7;s++)e.set(n,t+s,0)}function ee(e,n,t){for(let s=0;s<5;s++){const r=Y[s];for(let o=0;o<5;o++)e.set(n+o,t+s,r[o])}}function ne(e,n){!function(e){const{size:n}=e;V(e,0,0),V(e,n-7,0),V(e,0,n-7),X(e,0,7),X(e,n-8,7),X(e,0,n-8),W(e,7,0),W(e,n-7-1,0),W(e,7,n-7)}(e),function(e){e.set(8,e.size-8,1)}(e),function(e,{version:n}){if(n>=2){const{alignmentPatterns:t}=N[n-1],{length:s}=t;for(let n=0;n<s;n++){const r=t[n];for(let n=0;n<s;n++){const s=t[n];q(e,s,r)&&ee(e,s-2,r-2)}}}}(e,n),function(e){const n=e.size-8;for(let t=8;t<n;t++){const n=t+1&1;q(e,t,6)&&e.set(t,6,n)}for(let t=8;t<n;t++){const n=t+1&1;q(e,6,t)&&e.set(6,t,n)}}(e)}function te(e,n,t){const s=new w;!function(e,n,t){const s=n.bits<<3|t;e.append(s,5);const o=r(s,G);e.append(o,10);const i=new w;i.append(K,15),e.xor(i)}(s,n,t);const{size:o}=e,{length:i}=s;for(let n=0;n<i;n++){const[t,r]=J[n],w=s.get(i-1-n);e.set(t,r,w),n<8?e.set(o-n-1,8,w):e.set(8,o-7+(n-8),w)}}function se(e,{version:n}){if(n>=7){const t=new w;!function(e,n){e.append(n,6);const t=r(n,j);e.append(t,12)}(t,n);let s=17;const{size:o}=e;for(let n=0;n<6;n++)for(let r=0;r<3;r++){const i=t.get(s--);e.set(n,o-11+r,i),e.set(o-11+r,n,i)}}}function re(e,n,t,s,r){e.clear(-1),ne(e,t),te(e,s,r),se(e,t),function(e,n,t){let s=0;const{size:r}=e,{length:o}=n;for(let i=r-1;i>=1;i-=2){6===i&&(i=5);for(let w=0;w<r;w++)for(let c=0;c<2;c++){const a=i-c,l=0==(i+1&2)?r-1-w:w;if(q(e,a,l)){let r=0;s<o&&(r=n.get(s++)),H(t,a,l)&&(r^=1),e.set(a,l,r)}}}}(e,n,r)}class oe{#m;#y;constructor(e,n){this.#m=n,this.#y=e}get ecCodewords(){return this.#m}get dataCodewords(){return this.#y}}class ie{#C;#I;constructor(e,n){const{length:t}=n;if(t<=0)throw new Error("polynomial coefficients cannot empty");if(this.#C=e,t>1&&0===n[0]){let e=1;for(;e<t&&0===n[e];)e++;if(e===t)this.#I=new Int32Array([0]);else{const s=new Int32Array(t-e);s.set(n.subarray(e)),this.#I=s}}else this.#I=n}get coefficients(){return this.#I}isZero(){return 0===this.#I[0]}getDegree(){return this.#I.length-1}getCoefficient(e){const n=this.#I;return n[n.length-1-e]}evaluate(e){if(0===e)return this.getCoefficient(0);let n;const t=this.#I;if(1===e){n=0;for(const e of t)n^=e;return n}[n]=t;const s=this.#C,{length:r}=t;for(let o=1;o<r;o++)n=s.multiply(e,n)^t[o];return n}multiply(e){const n=this.#C,t=this.#I,{length:s}=t;if(e instanceof ie){if(this.isZero()||e.isZero())return n.zero;const r=e.#I,o=r.length,i=new Int32Array(s+o-1);for(let e=0;e<s;e++){const s=t[e];for(let t=0;t<o;t++)i[e+t]^=n.multiply(s,r[t])}return new ie(n,i)}if(0===e)return n.zero;if(1===e)return this;const r=new Int32Array(s);for(let o=0;o<s;o++)r[o]=n.multiply(t[o],e);return new ie(n,r)}multiplyByMonomial(e,n){const t=this.#C;if(0===n)return t.zero;const s=this.#I,{length:r}=s,o=new Int32Array(r+e);for(let e=0;e<r;e++)o[e]=t.multiply(s[e],n);return new ie(t,o)}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let n=e.#I,t=n.length,s=this.#I,r=s.length;t<r&&([t,r]=[r,t],[n,s]=[s,n]);const o=t-r,i=new Int32Array(t);i.set(n.subarray(0,o));for(let e=o;e<t;e++)i[e]=s[e-o]^n[e];return new ie(this.#C,i)}divide(e){const n=this.#C;let t=n.zero,s=this;const r=e.getCoefficient(e.getDegree()),o=n.invert(r);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const r=s.getDegree(),i=r-e.getDegree(),w=n.multiply(s.getCoefficient(r),o),c=e.multiplyByMonomial(i,w),a=n.buildPolynomial(i,w);t=t.addOrSubtract(a),s=s.addOrSubtract(c)}return[t,s]}}const we=new class{#g;#A;#B;#_;#v;#E;constructor(e,n,t){let s=1;const r=new Int32Array(n);for(let t=0;t<n;t++)r[t]=s,s*=2,s>=n&&(s^=e,s&=n-1);const o=new Int32Array(n);for(let e=0,t=n-1;e<t;e++)o[r[e]]=e;this.#g=n,this.#v=r,this.#E=o,this.#_=t,this.#A=new ie(this,new Int32Array([1])),this.#B=new ie(this,new Int32Array([0]))}get size(){return this.#g}get one(){return this.#A}get zero(){return this.#B}get generator(){return this.#_}exp(e){return this.#v[e]}log(e){return this.#E[e]}invert(e){return this.#v[this.#g-this.#E[e]-1]}multiply(e,n){if(0===e||0===n)return 0;const t=this.#E;return this.#v[(t[e]+t[n])%(this.#g-1)]}buildPolynomial(e,n){if(0===n)return this.#B;const t=new Int32Array(e+1);return t[0]=n,new ie(this,t)}}(285,256,0);class ce{#C;#z;constructor(e=we){this.#C=e,this.#z=[new ie(e,new Int32Array([1]))]}encode(e,n){const t=e.length-n,s=new Int32Array(t),r=function(e,n,t){const{length:s}=n;if(t>=s){const{generator:r}=e;let o=n[s-1];for(let i=s;i<=t;i++){const t=new Int32Array([1,e.exp(i-1+r)]),s=o.multiply(new ie(e,t));n.push(s),o=s}}return n[t]}(this.#C,this.#z,n);s.set(e.subarray(0,t));const o=new ie(this.#C,s).multiplyByMonomial(n,1),[,i]=o.divide(r),{coefficients:w}=i,c=t+(n-w.length);e.fill(0,t,c),e.set(w,c)}}function ae(e,n){const t=e.length,s=new Int32Array(t+n);return s.set(e),(new ce).encode(s,n),new Uint8Array(s.subarray(t))}function le(e){return e.mode===n.BYTE}function he(e){return e.mode===n.HANZI}function ue(e,n){e.append(n.bits,4)}function fe(e,t,s){if(le(t)){const[r]=t.charset.values;if(r!==s)return e.append(n.ECI.bits,4),r<128?e.append(r,8):r<16384?(e.append(2,2),e.append(r,14)):(e.append(6,3),e.append(r,21)),r}return s}function de(e,t){const[s,r]=t;switch(s){case"GS1":ue(e,n.FNC1_FIRST_POSITION);break;case"AIM":ue(e,n.FNC1_SECOND_POSITION),e.append(r,8)}}function ge(e,n,t,s){e.append(s,n.getCharacterCountBits(t))}function pe(e,n,t){const s=n.getECBlocks(t),r=Math.ceil(e/8);return s.numTotalDataCodewords>=r}function be(e,n){for(const t of N)if(pe(e,t,n))return t;throw new Error("data too big for all versions")}function me(e,n){let t=0;for(const{mode:s,head:r,data:o}of e)t+=r.length+s.getCharacterCountBits(n)+o.length;return t}class ye{#S;#T;#e;#k;#g;#M;#O;constructor(e){const n=1<<e,t=n+1;this.#S=n,this.#T=t,this.#k=e,this.reset()}get bof(){return this.#S}get eof(){return this.#T}get bits(){return this.#e}get depth(){return this.#k}reset(){const e=this.#k+1;this.#e=e,this.#g=1<<e,this.#O=new Map,this.#M=this.#T+1}add(e,n){let t=this.#M;if(t>4095)return!1;this.#O.set(e<<8|n,t++);let s=this.#e,r=this.#g;return t>r&&(r=1<<++s),this.#e=s,this.#g=r,this.#M=t,!0}get(e,n){return this.#O.get(e<<8|n)}}class Ce{#e=0;#D;#N=0;#P=[];constructor(e){this.#D=e}write(e){let n=this.#e,t=this.#N|e<<n;n+=this.#D.bits;const s=this.#P;for(;n>=8;)s.push(255&t),t>>=8,n-=8;this.#e=n,this.#N=t}pipe(e){const n=this.#P;this.#e>0&&n.push(this.#N),e.writeByte(this.#D.depth);const{length:t}=n;for(let s=0;s<t;){const r=t-s;r>=255?(e.writeByte(255),e.writeBytes(n,s,255),s+=255):(e.writeByte(r),e.writeBytes(n,s,r),s=t)}e.writeByte(0)}}class Ie{#P=[];get bytes(){return this.#P}writeByte(e){this.#P.push(255&e)}writeInt16(e){this.#P.push(255&e,e>>8&255)}writeBytes(e,n=0,t=e.length){const s=this.#P;for(let r=0;r<t;r++)s.push(255&e[n+r])}}const{fromCharCode:Ae}=String;function Be(e){if((e&=63)>=0){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62===e)return 43;if(63===e)return 47}throw new Error(`illegal char: ${Ae(e)}`)}class _e{#e=0;#N=0;#t=0;#x=new Ie;get bytes(){return this.#x.bytes}write(e){let n=this.#e+8;const t=this.#x,s=this.#N<<8|255&e;for(;n>=6;)t.writeByte(Be(s>>>n-6)),n-=6;this.#t++,this.#e=n,this.#N=s}close(){const e=this.#e,n=this.#x;e>0&&(n.writeByte(Be(this.#N<<6-e)),this.#e=0,this.#N=0);const t=this.#t;if(t%3!=0){const e=3-t%3;for(let t=0;t<e;t++)n.writeByte(61)}}}class ve{#U;#L;#R;#Z;#$=[];constructor(e,n,{foreground:t=[0,0,0],background:s=[255,255,255]}={}){this.#U=e,this.#L=n,this.#R=t,this.#Z=s}#F(){const e=this.#U,n=this.#L,t=new Ie,s=this.#Z,r=this.#R;return t.writeBytes([71,73,70,56,57,97]),t.writeInt16(e),t.writeInt16(n),t.writeBytes([128,0,0]),t.writeBytes([s[0],s[1],s[2]]),t.writeBytes([r[0],r[1],r[2]]),t.writeByte(44),t.writeInt16(0),t.writeInt16(0),t.writeInt16(e),t.writeInt16(n),t.writeByte(0),function(e,n,t){const s=new ye(n),r=new Ce(s);if(r.write(s.bof),e.length>0){let n=e[0];const{length:t}=e;for(let o=1;o<t;o++){const t=e[o],i=s.get(n,t);null!=i?n=i:(r.write(n),s.add(n,t)||(r.write(s.bof),s.reset()),n=t)}r.write(n)}r.write(s.eof),r.pipe(t)}(this.#$,2,t),t.writeByte(59),t.bytes}set(e,n,t){this.#$[n*this.#U+e]=t}toDataURL(){const e=this.#F(),n=new _e;for(const t of e)n.write(t);n.close();const t=n.bytes;let s="data:image/gif;base64,";for(const e of t)s+=Ae(e);return s}}class Ee{#H;#G;#p;#K;constructor(e,n,t,s){this.#H=s,this.#G=t,this.#K=e,this.#p=n}get mask(){return this.#H}get level(){return this.#G.name}get version(){return this.#p.version}get matrix(){return this.#K}toDataURL(e=2,{margin:n=4*e,...s}={}){e=Math.max(1,e>>0),n=Math.max(0,n>>0);const r=this.#K,o=e*r.size+2*n,i=new ve(o,o,s),w=o-n;for(let s=0;s<o;s++)for(let c=0;c<o;c++)if(c>=n&&c<w&&s>=n&&s<w){const o=t((c-n)/e),w=t((s-n)/e);i.set(c,s,r.get(o,w))}else i.set(c,s,0);return i.toDataURL()}}const ze=new Map;class Se{#j;#e;#G;static L=new Se("L",0,1);static M=new Se("M",1,0);static Q=new Se("Q",2,3);static H=new Se("H",3,2);constructor(e,n,t){this.#e=t,this.#j=e,this.#G=n,ze.set(t,this)}get bits(){return this.#e}get name(){return this.#j}get level(){return this.#G}}class Te{#g;#P;constructor(e){this.#g=e,this.#P=new Int8Array(e*e)}get size(){return this.#g}set(e,n,t){this.#P[n*this.#g+e]=t}get(e,n){return this.#P[n*this.#g+e]}clear(e){this.#P.fill(e)}}class ke{#J;#G;#F;#p;constructor({hints:e={},level:n="L",version:t="Auto",encode:s=u}={}){!function(e){const{fnc1:n}=e;if(null!=n){const[e]=n;if("GS1"!==e&&"AIM"!==e)throw new Error("illegal fn1 hint");if("AIM"===e){const[,e]=n;if(e<0||e>255||!Number.isInteger(e))throw new Error("illegal fn1 application indicator")}}}(e),function(e){if(["L","M","Q","H"].indexOf(e)<0)throw new Error("illegal error correction level")}(n),function(e){if("Auto"!==e&&(e<1||e>40||!Number.isInteger(e)))throw new Error("illegal version")}(t),this.#J=e,this.#F=s,this.#p=t,this.#G=Se[n]}encode(...e){const n=this.#G,t=this.#F,{fnc1:s}=this.#J,r=this.#p,o=[];let i,c=!1,[l]=a.ISO_8859_1.values;for(const n of e){const{mode:e}=n,r=new w,i=le(n),a=i?n.encode(t):n.encode(),h=i?a.byteLength:n.content.length;l=fe(r,n,l),null==s||c||(c=!0,de(r,s)),ue(r,e),he(n)&&r.append(1,4),o.push({mode:e,head:r,data:a,length:h})}if("Auto"===r)i=function(e,n){const t=be(me(e,N[0]),n);return be(me(e,t),n)}(o,n);else{i=N[r-1];if(!pe(me(o,i),i,n))throw new Error("data too big for requested version")}const h=new w;for(const{mode:e,head:n,data:t,length:s}of o)h.append(n),ge(h,e,i,s),h.append(t);const u=i.getECBlocks(n);!function(e,n){const t=8*n;for(let n=0;n<4&&e.length<t;n++)e.append(0);const s=7&e.length;if(s>0)for(let n=s;n<8;n++)e.append(0);const r=n-e.byteLength;for(let n=0;n<r;n++)e.append(1&n?17:236,8)}(h,u.numTotalDataCodewords);const f=new Te(i.size),d=function(e,{ecBlocks:n,numECCodewordsPerBlock:t}){let s=0,r=0,o=0;const i=[];for(const{count:w,numDataCodewords:c}of n)for(let n=0;n<w;n++){const n=new Uint8Array(c);e.toUint8Array(8*o,n,0,c);const w=ae(n,t);i.push(new oe(n,w)),o+=c,s=Math.max(s,w.length),r=Math.max(r,c)}const c=new w;for(let e=0;e<r;e++)for(const{dataCodewords:n}of i)e<n.length&&c.append(n[e],8);for(let e=0;e<s;e++)for(const{ecCodewords:n}of i)e<n.length&&c.append(n[e],8);return c}(h,u),g=function(e,n,t,s){let r=-1,o=Number.MAX_VALUE;for(let i=0;i<8;i++){re(e,n,t,s,i);const w=F(e);w<o&&(r=i,o=w)}return r}(f,d,i,n);return re(f,d,i,n,g),new Ee(f,i,n,g)}}function Me(e){const n=parseInt(`0x${e.slice(1,7)}`);return[n>>16&255,n>>8&255,255&n]}function Oe({fnc1:e,aimIndicator:n}){switch(e){case"GS1":return{fnc1:["GS1"]};case"AIM":return{fnc1:["AIM",+n]}}}self.addEventListener("message",(({data:e})=>{const{level:n,version:t}=e,s=new ke({level:n,version:t,hints:Oe(e)});try{const n=s.encode(function({mode:e,content:n,charset:t}){switch(e){case"Auto":const e=/^[0-9A-Z$%*+-./: ]+$/;if(/^\d+$/.test(n))return new C(n);if(e.test(n))return new B(n);const s=new E(n);try{return s.encode(),s}catch{}const r=new T(n);try{return r.encode(),r}catch{}return new k(n,a[t]);case"Hanzi":return new E(n);case"Kanji":return new T(n);case"Numeric":return new C(n);case"Alphanumeric":return new B(n);default:return new k(n,a[t])}}(e)),{moduleSize:t,quietZone:r,background:o,foreground:i}=e,w={type:"ok",payload:n.toDataURL(t,{margin:r,background:Me(o),foreground:Me(i)})};self.postMessage(w)}catch(e){const n={type:"error",message:e.message};self.postMessage(n)}}))}();