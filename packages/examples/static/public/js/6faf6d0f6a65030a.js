(self.webpackChunk=self.webpackChunk||[]).push([[642],{9522:function(e,n,t){"use strict";var r=t(8456),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,i,o,c,l,s,u=!1;n||(n={}),t=n.debug||!1;try{if(o=r(),c=document.createRange(),l=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),n.format)if(r.preventDefault(),void 0===r.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=a[n.format]||a.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,e);n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))})),document.body.appendChild(s),c.selectNodeContents(s),l.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){t&&console.error("unable to copy using execCommand: ",r),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),u=!0}catch(r){t&&console.error("unable to copy using clipboardData: ",r),t&&console.error("falling back to prompt"),i=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),s&&document.body.removeChild(s),o()}return u}},1038:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(2363);function a(e){const n=(0,r.useRef)(e);return n.current=(0,r.useMemo)((()=>e),[e]),n}},9963:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(2363),a=t(1038);function i(e,n=128){const t=(0,r.useRef)(),i=(0,a.Z)(n),[o,c]=(0,r.useState)(e),l=(0,r.useCallback)(((e,n=i.current)=>{clearTimeout(t.current),n<=0?c(e):t.current=setTimeout((()=>{c(e)}),n)}),[]);return(0,r.useEffect)((()=>()=>{clearTimeout(t.current)}),[]),[o,l]}},7764:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return rn}});var r=t(9980),a="f9962498",i="a741f479",o="ebf18c46",c="aaf4de2d",l="ed042f55",s="decf7166",u="ee2649fa",d=t(2363),m=t(87),h=t(6122),p=t(757),f=t(2528);var g=e=>{const n=(null==e?void 0:e.algorithm)?(0,m.jG)(e.algorithm):(0,m.jG)(h.Z),t=Object.assign(Object.assign({},p.Z),null==e?void 0:e.token);return(0,m.t2)(t,{override:null==e?void 0:e.token},n,f.Z)},y=t(6202),v=t(38),w=t(3291);var b=t(1243);var k=(e,n)=>{const t=null!=n?n:(0,h.Z)(e),r=t.fontSizeSM,a=t.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),function(e){const{sizeUnit:n,sizeStep:t}=e,r=t-2;return{sizeXXL:n*(r+10),sizeXL:n*(r+6),sizeLG:n*(r+2),sizeMD:n*(r+2),sizeMS:n*(r+1),size:n*r,sizeSM:n*r,sizeXS:n*(r-1),sizeXXS:n*(r-1)}}(null!=n?n:e)),(0,b.Z)(r)),{controlHeight:a}),(0,w.Z)(Object.assign(Object.assign({},t),{controlHeight:a})))},x=t(1207),S=t(7524),$=t(6877);const C=(e,n)=>new $.C(e).setAlpha(n).toRgbString(),j=(e,n)=>new $.C(e).lighten(n).toHexString(),I=e=>{const n=(0,x.R_)(e,{theme:"dark"});return{1:n[0],2:n[1],3:n[2],4:n[3],5:n[6],6:n[5],7:n[4],8:n[6],9:n[5],10:n[4]}},E=(e,n)=>{const t=e||"#000",r=n||"#fff";return{colorBgBase:t,colorTextBase:r,colorText:C(r,.85),colorTextSecondary:C(r,.65),colorTextTertiary:C(r,.45),colorTextQuaternary:C(r,.25),colorFill:C(r,.18),colorFillSecondary:C(r,.12),colorFillTertiary:C(r,.08),colorFillQuaternary:C(r,.04),colorBgElevated:j(t,12),colorBgContainer:j(t,8),colorBgLayout:j(t,0),colorBgSpotlight:j(t,26),colorBgBlur:C(r,.04),colorBorder:j(t,26),colorBorderSecondary:j(t,19)}};var M=(e,n)=>{const t=Object.keys(p.M).map((n=>{const t=(0,x.R_)(e[n],{theme:"dark"});return new Array(10).fill(1).reduce(((e,r,a)=>(e[`${n}-${a+1}`]=t[a],e[`${n}${a+1}`]=t[a],e)),{})})).reduce(((e,n)=>e=Object.assign(Object.assign({},e),n)),{}),r=null!=n?n:(0,h.Z)(e);return Object.assign(Object.assign(Object.assign({},r),t),(0,S.Z)(e,{generateColorPalettes:I,generateNeutralColorPalettes:E}))};var R={defaultConfig:v.u_,defaultSeed:v.u_.token,useToken:function(){const[e,n,t]=(0,y.ZP)();return{theme:e,token:n,hashId:t}},defaultAlgorithm:h.Z,darkAlgorithm:M,compactAlgorithm:k,getDesignToken:g},Z=t(9522),P=t.n(Z),O=t(3060),T=t(6822),A=t(3078),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},N=t(3298),z=function(e,n){return d.createElement(N.Z,(0,A.Z)({},e,{ref:n,icon:L}))};var D=d.forwardRef(z);const{useToken:H}=R;var _=(0,d.memo)((function({text:e,debug:n,format:t,message:a}){const{token:i}=H(),[o,c]=(0,d.useState)(0),l=(0,d.useCallback)((()=>{P()(e,{debug:n,format:t,message:a})?c(1):c(2),setTimeout((()=>{c(0)}),3e3)}),[e,n,t,a]);switch(o){case 1:return(0,r.jsx)(O.Z,{style:{color:i.colorSuccessActive},title:"复制成功"});case 2:return(0,r.jsx)(T.Z,{style:{color:i.colorErrorActive},title:"复制失败"});default:return(0,r.jsx)(D,{title:"复制",onClick:l})}})),q=t(9963),B="a6678820",U=t(936);const V=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch(e){return!1}return"showOpenFilePicker"in self})(),F=V?Promise.resolve().then((function(){return W})):Promise.resolve().then((function(){return Y}));V?Promise.resolve().then((function(){return Q})):Promise.resolve().then((function(){return ee}));V?Promise.resolve().then((function(){return J})):Promise.resolve().then((function(){return ne}));const X=async e=>{const n=await e.getFile();return n.handle=e,n};var W={__proto__:null,default:async(e=[{}])=>{Array.isArray(e)||(e=[e]);const n=[];e.forEach(((e,t)=>{n[t]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map((r=>{n[t].accept[r]=e.extensions||[]})):n[t].accept["*/*"]=e.extensions||[]}));const t=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:n,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(t.map(X));return e[0].multiple?r:r[0]}};function G(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var n=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:n}}))}return G=function(e){this.s=e,this.n=e.next},G.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new G(e)}const K=async(e,n,t=e.name,r)=>{const a=[],i=[];var o,c=!1,l=!1;try{for(var s,u=function(e){var n,t,r,a=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new G(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());c=!(s=await u.next()).done;c=!1){const o=s.value,c=`${t}/${o.name}`;"file"===o.kind?i.push(o.getFile().then((n=>(n.directoryHandle=e,n.handle=o,Object.defineProperty(n,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>c}))))):"directory"!==o.kind||!n||r&&r(o)||a.push(K(o,n,c,r))}}catch(e){l=!0,o=e}finally{try{c&&null!=u.return&&await u.return()}finally{if(l)throw o}}return[...(await Promise.all(a)).flat(),...await Promise.all(i)]};var Q={__proto__:null,default:async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const n=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await n.values()).next()).done?[n]:K(n,e.recursive,void 0,e.skipDirectory)}},J={__proto__:null,default:async(e,n=[{}],t=null,r=!1,a=null)=>{Array.isArray(n)||(n=[n]),n[0].fileName=n[0].fileName||"Untitled";const i=[];let o=null;if(e instanceof Blob&&e.type?o=e.type:e.headers&&e.headers.get("content-type")&&(o=e.headers.get("content-type")),n.forEach(((e,n)=>{i[n]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===n&&o&&e.mimeTypes.push(o),e.mimeTypes.map((t=>{i[n].accept[t]=e.extensions||[]}))):o?i[n].accept[o]=e.extensions||[]:i[n].accept["*/*"]=e.extensions||[]})),t)try{await t.getFile()}catch(e){if(t=null,r)throw e}const c=t||await window.showSaveFilePicker({suggestedName:n[0].fileName,id:n[0].id,startIn:n[0].startIn,types:i,excludeAcceptAllOption:n[0].excludeAcceptAllOption||!1});!t&&a&&a(c);const l=await c.createWritable();if("stream"in e){const n=e.stream();return await n.pipeTo(l),c}return"body"in e?(await e.body.pipeTo(l),c):(await l.write(await e),await l.close(),c)}},Y={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((n,t)=>{const r=document.createElement("input");r.type="file";const a=[...e.map((e=>e.mimeTypes||[])),...e.map((e=>e.extensions||[]))].join();r.multiple=e[0].multiple||!1,r.accept=a||"",r.style.display="none",document.body.append(r);const i=e=>{"function"==typeof o&&o(),n(e)},o=e[0].legacySetup&&e[0].legacySetup(i,(()=>o(t)),r),c=()=>{window.removeEventListener("focus",c),r.remove()};r.addEventListener("click",(()=>{window.addEventListener("focus",c)})),r.addEventListener("change",(()=>{window.removeEventListener("focus",c),r.remove(),i(r.multiple?Array.from(r.files):r.files[0])})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},ee={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((n,t)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const a=e=>{"function"==typeof i&&i(),n(e)},i=e[0].legacySetup&&e[0].legacySetup(a,(()=>i(t)),r);r.addEventListener("change",(()=>{let n=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(n=n.filter((n=>n.webkitRelativePath.split("/").every((n=>!e[0].skipDirectory({name:n,kind:"directory"})))))):n=n.filter((e=>2===e.webkitRelativePath.split("/").length)),a(n)})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},ne={__proto__:null,default:async(e,n={})=>{Array.isArray(n)&&(n=n[0]);const t=document.createElement("a");let r=e;"body"in e&&(r=await async function(e,n){const t=e.getReader(),r=new ReadableStream({start:e=>async function n(){return t.read().then((({done:t,value:r})=>{if(!t)return e.enqueue(r),n();e.close()}))}()}),a=new Response(r),i=await a.blob();return t.releaseLock(),new Blob([i],{type:n})}(e.body,e.headers.get("content-type"))),t.download=n.fileName||"Untitled",t.href=URL.createObjectURL(await r);const a=()=>{"function"==typeof i&&i()},i=n.legacySetup&&n.legacySetup(a,(()=>i()),t);return t.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(t.href)),3e4),a()})),t.click(),null}};var te=t(1038);function re(e){return"function"==typeof e}function ae(e){const{valuePropName:n="value"}=e;return n}function ie(e,n){return ae(n)in e}function oe(e,n){return e[ae(n)]}function ce(e,n={}){const t=function(){const e=(0,d.useRef)(!1);return(0,d.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),(0,d.useCallback)((()=>e.current),[])}(),r=(0,te.Z)(e),a=(0,te.Z)(n),[i=n.defaultValue,o]=(0,d.useState)((()=>ie(e,n)?oe(e,n):function(e,n){const t=function(e){const{defaultValuePropName:n="defaultValue"}=e;return n}(n);return e[t]}(e,n))),c=(0,te.Z)(i),l=(0,d.useCallback)(((e,...n)=>{if(t()){const{current:t}=c,i=re(e)?e(t):e;if(i!==t){const{current:e}=r,{trigger:t="onChange"}=e,{current:c}=a;ie(e,c)||o(i),re(e[t])&&e[t](i,...n)}}}),[]);return(0,d.useEffect)((()=>{if(ie(e,n)){const t=oe(e,n);t!==i&&o(t)}})),[i,l]}const{useApp:le}=U.default;var se=(0,d.memo)((function(e){const{message:n}=le(),t=(0,d.useRef)(),[a,i]=ce(e),{children:o,disabled:c,preview:l,accept:s="image/*"}=e,u=(0,d.useCallback)((()=>{c||async function(...e){return(await F).default(...e)}({mimeTypes:[s]}).then((e=>{/^image\/.+$/i.test(e.type)?i((()=>(t.current&&URL.revokeObjectURL(t.current),t.current=URL.createObjectURL(e),t.current))):n.error("请选择图片格式文件")}),(()=>{}))}),[s,c]);return(0,r.jsxs)("div",{className:B,children:[(0,r.jsx)("div",{onClick:u,children:o}),l&&l(a)]})})),ue=t(677),de=t(9519),me=t(1962),he=t(2027),pe=t(4729),fe=t(2464),ge=t(4231),ye=t(7671),ve=t(1174),we=t(8667),be=t.n(we),ke=t(8914),xe=t(4225),Se=t(6709),$e=t(2197),Ce=t(7652),je=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Ie=d.forwardRef((function(e,n){var t,r=e.prefixCls,a=void 0===r?"rc-switch":r,i=e.className,o=e.checked,c=e.defaultChecked,l=e.disabled,s=e.loadingIcon,u=e.checkedChildren,m=e.unCheckedChildren,h=e.onClick,p=e.onChange,f=e.onKeyDown,g=(0,Se.Z)(e,je),y=(0,$e.Z)(!1,{value:o,defaultValue:c}),v=(0,xe.Z)(y,2),w=v[0],b=v[1];function k(e,n){var t=w;return l||(b(t=e),null==p||p(t,n)),t}var x=be()(a,i,(t={},(0,ke.Z)(t,"".concat(a,"-checked"),w),(0,ke.Z)(t,"".concat(a,"-disabled"),l),t));return d.createElement("button",(0,A.Z)({},g,{type:"button",role:"switch","aria-checked":w,disabled:l,className:x,ref:n,onKeyDown:function(e){e.which===Ce.Z.LEFT?k(!1,e):e.which===Ce.Z.RIGHT&&k(!0,e),null==f||f(e)},onClick:function(e){var n=k(!w,e);null==h||h(n,e)}}),s,d.createElement("span",{className:"".concat(a,"-inner")},d.createElement("span",{className:"".concat(a,"-inner-checked")},u),d.createElement("span",{className:"".concat(a,"-inner-unchecked")},m)))}));Ie.displayName="Switch";var Ee=Ie,Me=t(8742),Re=t(8620),Ze=t(3407),Pe=t(1085),Oe=t(1034),Te=t(7584),Ae=t(8025);const Le=e=>{const{componentCls:n,trackHeightSM:t,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:i,innerMaxMarginSM:o,handleSizeSM:c,calc:l}=e,s=`${n}-inner`,u=(0,m.bf)(l(c).add(l(r).mul(2)).equal()),d=(0,m.bf)(l(o).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:a,height:t,lineHeight:(0,m.bf)(t),[`${n}-inner`]:{paddingInlineStart:o,paddingInlineEnd:i,[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${s}-unchecked`]:{marginTop:l(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:c,height:c},[`${n}-loading-icon`]:{top:l(l(c).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:i,paddingInlineEnd:o,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${(0,m.bf)(l(c).add(r).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},Ne=e=>{const{componentCls:n,handleSize:t,calc:r}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(t).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},ze=e=>{const{componentCls:n,trackPadding:t,handleBg:r,handleShadow:a,handleSize:i,calc:o}=e,c=`${n}-handle`;return{[n]:{[c]:{position:"absolute",top:t,insetInlineStart:t,width:i,height:i,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:o(i).div(2).equal(),boxShadow:a,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${c}`]:{insetInlineStart:`calc(100% - ${(0,m.bf)(o(i).add(t).equal())})`},[`&:not(${n}-disabled):active`]:{[`${c}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${c}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},De=e=>{const{componentCls:n,trackHeight:t,trackPadding:r,innerMinMargin:a,innerMaxMargin:i,handleSize:o,calc:c}=e,l=`${n}-inner`,s=(0,m.bf)(c(o).add(c(r).mul(2)).equal()),u=(0,m.bf)(c(i).mul(2).equal());return{[n]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:a,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${s} - ${u})`,marginInlineEnd:`calc(100% - ${s} + ${u})`},[`${l}-unchecked`]:{marginTop:c(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${l}`]:{paddingInlineStart:a,paddingInlineEnd:i,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${s} + ${u})`,marginInlineEnd:`calc(-100% + ${s} - ${u})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:c(r).mul(2).equal(),marginInlineEnd:c(r).mul(-1).mul(2).equal()}},[`&${n}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:c(r).mul(-1).mul(2).equal(),marginInlineEnd:c(r).mul(2).equal()}}}}}},He=e=>{const{componentCls:n,trackHeight:t,trackMinWidth:r}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Oe.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:t,lineHeight:`${(0,m.bf)(t)}`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),(0,Oe.Qy)(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}};var _e=(0,Te.I$)("Switch",(e=>{const n=(0,Ae.TS)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[He(n),De(n),ze(n),Ne(n),Le(n)]}),(e=>{const{fontSize:n,lineHeight:t,controlHeight:r,colorWhite:a}=e,i=n*t,o=r/2,c=i-4,l=o-4;return{trackHeight:i,trackHeightSM:o,trackMinWidth:2*c+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:a,handleSize:c,handleSizeSM:l,handleShadow:`0 2px 4px 0 ${new $.C("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:c/2,innerMaxMargin:c+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}})),qe=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t};const Be=d.forwardRef(((e,n)=>{const{prefixCls:t,size:r,disabled:a,loading:i,className:o,rootClassName:c,style:l,checked:s,value:u,defaultChecked:m,defaultValue:h,onChange:p}=e,f=qe(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[g,y]=(0,$e.Z)(!1,{value:null!=s?s:u,defaultValue:null!=m?m:h}),{getPrefixCls:v,direction:w,switch:b}=d.useContext(Re.E_),k=d.useContext(Ze.Z),x=(null!=a?a:k)||i,S=v("switch",t),$=d.createElement("div",{className:`${S}-handle`},i&&d.createElement(de.Z,{className:`${S}-loading-icon`})),[C,j,I]=_e(S),E=(0,Pe.Z)(r),M=be()(null==b?void 0:b.className,{[`${S}-small`]:"small"===E,[`${S}-loading`]:i,[`${S}-rtl`]:"rtl"===w},o,c,j,I),R=Object.assign(Object.assign({},null==b?void 0:b.style),l);return C(d.createElement(Me.Z,{component:"Switch"},d.createElement(Ee,Object.assign({},f,{checked:g,onChange:function(){y(arguments.length<=0?void 0:arguments[0]),null==p||p.apply(void 0,arguments)},prefixCls:S,className:M,style:R,disabled:x,ref:n,loadingIcon:$}))))}));Be.__ANT_SWITCH=!0;var Ue=Be,Ve=t.p+"images/3db910008d877cd2.jpg",Fe=t(1047),Xe=t(7484);var We=(0,d.memo)((e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 1024 1024",...e,children:[(0,r.jsx)("path",{d:"M341.331 512c0 94.26 76.416 170.669 170.669 170.669 94.26 0 170.669-76.416 170.669-170.669 0-94.26-76.416-170.669-170.669-170.669-94.26 0-170.669 76.416-170.669 170.669"}),(0,r.jsx)("path",{d:"M972.8 460.8h-54.784C894.509 275.443 748.556 129.491 563.2 105.984V51.2a51.2 51.2 0 1 0-102.4 0v54.784C275.443 129.491 129.491 275.444 105.984 460.8H51.2a51.2 51.2 0 1 0 0 102.4h54.784c23.507 185.357 169.46 331.309 354.816 354.816V972.8a51.2 51.2 0 1 0 102.4 0v-54.784c185.357-23.507 331.309-169.46 354.816-354.816H972.8a51.2 51.2 0 1 0 0-102.4M512 819.2c-169.664 0-307.2-137.536-307.2-307.2S342.336 204.8 512 204.8 819.2 342.336 819.2 512 681.664 819.2 512 819.2"})]})));var Ge=(0,d.memo)((e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 1024 1024",...e,children:(0,r.jsx)("path",{d:"M909 897H115a50 50 0 0 1-50-50V177a50 50 0 0 1 50-50h370a50 50 0 0 1 50 50v62a10 10 0 0 0 10 10h241a50 50 0 0 1 50 50v58h73a50 50 0 0 1 50 50v440a50 50 0 0 1-50 50M505 309a30 30 0 0 1-30-30v-72a20 20 0 0 0-20-20H145a20 20 0 0 0-20 20v610c0 11.046 9.377 20 20.422 20H209a20 20 0 0 0 20-20V407a50 50 0 0 1 50-50h497v-28a20 20 0 0 0-20-20H535m364 128a20 20 0 0 0-20-20H309a20 20 0 0 0-20 20v400h590a20 20 0 0 0 20-20zM650.659 615.8l-26.618-26.53V737a30 30 0 0 1-30 30h-.113a30 30 0 0 1-30-30V589.275L537.309 615.8a30.006 30.006 0 0 1-42.509-42.36l77.928-77.669a30.127 30.127 0 0 1 42.506 0l77.929 77.669a30.007 30.007 0 0 1-42.504 42.36"})})));const{useApp:Ke}=U.default,{Item:Qe,useForm:Je,useWatch:Ye}=me.default;const en=(0,d.memo)((function({uid:e,name:n,items:a,image:i,trigger:o,currentRef:c}){const l=(0,d.useRef)(!1),m=(0,d.useRef)(),{message:h}=Ke(),p=(0,d.useRef)(),[f,g]=(0,d.useState)(),[y,v]=(0,d.useState)(!1),[w,b]=(0,q.Z)(!1),k=(0,d.useMemo)((()=>({src:f,visible:y,onVisibleChange(e){v(e)},toolbarRender(e){return(0,r.jsxs)("div",{className:u,children:[(0,r.jsx)("p",{children:n}),e]})}})),[f,n,y]),x=(0,d.useCallback)((()=>{if(c.current=e,p.current!==e){const n=m.current;if(n&&!l.current){b(!0),l.current=!0,p.current=e;const t=function(e){const n=new OffscreenCanvas(e.width,e.height);return n.getContext("2d").drawImage(e,0,0),n.transferToImageBitmap()}(i),r={image:t,items:a.map((e=>({finder:e.finder,timing:e.timing,corners:e.corners,alignment:e.alignment})))};n.postMessage(r,[t])}}else v((e=>!e))}),[e,i,a]);return(0,d.useEffect)((()=>{const n=new Worker(new URL(t.p+t.u(600),t.b));return n.addEventListener("message",(({data:n})=>{switch(b(!1),l.current=!1,n.type){case"ok":g(n.payload);const{current:t}=c;t===e&&v((e=>!e));break;case"error":h.error(n.message);break;default:h.error("发生未知错误")}})),m.current=n,()=>{n.terminate()}}),[e]),(0,r.jsxs)("div",{className:s,children:[o(w,x),(0,r.jsx)(he.Z,{hidden:!0,src:Fe,preview:k})]})})),nn=(0,d.memo)((function({state:e,currentRef:n}){if(e&&"ok"===e.type){const{payload:t}=e,{uid:a,image:i,items:o}=t;return(0,r.jsx)(en,{uid:a,name:"概览",image:i,items:o,currentRef:n,trigger:(e,n)=>(0,r.jsx)(pe.ZP,{loading:e,onClick:n,icon:(0,r.jsx)(ue.Z,{component:We}),children:"概览"})},a)}return null})),tn=(0,d.memo)((function({state:e,currentRef:n}){const t=(0,d.useMemo)((()=>{if(e&&"ok"===e.type){const{uid:t,image:a,items:i}=e.payload;return i.map(((e,i)=>{const{content:o}=e,c=`${t}-${i}`,s=`解码结果【${i+1}】`;return{key:c,label:s,children:(0,r.jsx)("pre",{children:o}),extra:(0,r.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:l,children:[(0,r.jsx)(_,{text:o}),(0,r.jsx)(en,{uid:c,image:a,items:[e],name:`${s}定位`,currentRef:n,trigger:(e,n)=>e?(0,r.jsx)(de.Z,{}):(0,r.jsx)(ue.Z,{title:"定位",component:We,onClick:n})},c)]})}}))}}),[e]);if(e)switch(e.type){case"ok":return(0,r.jsx)(fe.Z,{size:"small",items:t,className:c,defaultActiveKey:`${e.payload.uid}-0`},e.payload.uid);case"error":return(0,r.jsx)(ge.Z,{type:"error",message:e.message,showIcon:!0});default:return(0,r.jsx)(ge.Z,{type:"error",message:"发生未知错误",showIcon:!0})}return null}));var rn=(0,d.memo)((function(){const e=(0,d.useRef)(!1),n=(0,d.useRef)(),[c]=Je(),l=Ye(["image"],c),s=(0,d.useRef)(),[u,m]=(0,q.Z)(!1),[h,p]=(0,d.useState)(),f=(0,d.useMemo)((()=>({image:Ve,strict:!1,invert:!1})),[]),g=(0,d.useCallback)((t=>{const r=n.current;if(r&&!e.current){m(!0),e.current=!0;const{image:n}=t,a=new self.Image;a.crossOrigin="anonymous",a.addEventListener("error",(()=>{m(!1)})),a.addEventListener("load",(()=>{createImageBitmap(a).then((e=>{const a={...t,image:e,uid:n};r.postMessage(a,[e])}))})),a.src=n}}),[]),y=(0,d.useCallback)((e=>e?(0,r.jsx)(he.Z,{src:e,alt:"preview",className:a}):null),[]);return(0,d.useEffect)((()=>{const r=new Worker(new URL(t.p+t.u(821),t.b));return r.addEventListener("message",(({data:n})=>{p(n),m(!1),e.current=!1})),n.current=r,()=>{r.terminate()}}),[]),(0,r.jsxs)("div",{className:"ui-page",children:[(0,r.jsx)(me.default,{form:c,onFinish:g,layout:"vertical",initialValues:f,children:(0,r.jsxs)(ye.Z,{gutter:24,children:[(0,r.jsx)(ve.Z,{span:24,children:(0,r.jsx)(Qe,{name:"image",children:(0,r.jsx)(se,{preview:y,children:(0,r.jsx)(pe.ZP,{icon:(0,r.jsx)(ue.Z,{component:Ge}),children:"选择图片"})})})}),(0,r.jsx)(ve.Z,{span:24,children:(0,r.jsx)(Qe,{name:"strict",label:"严格模式",valuePropName:"checked",tooltip:"可增加扫描速度，但会降低识别率",children:(0,r.jsx)(Ue,{checkedChildren:"开",unCheckedChildren:"关"})})}),(0,r.jsx)(ve.Z,{span:24,children:(0,r.jsx)(Qe,{name:"invert",label:"图片反色",valuePropName:"checked",children:(0,r.jsx)(Ue,{checkedChildren:"开",unCheckedChildren:"关"})})}),(0,r.jsxs)(ve.Z,{span:24,className:i,children:[(0,r.jsx)(pe.ZP,{type:"primary",htmlType:"submit",loading:u,disabled:!l,icon:(0,r.jsx)(ue.Z,{component:Xe.Z}),children:"解码"}),(0,r.jsx)(nn,{state:h,currentRef:s})]})]})}),(0,r.jsx)("div",{className:o,children:(0,r.jsx)(tn,{state:h,currentRef:s})})]})}))},8456:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach((function(n){e.addRange(n)})),n&&n.focus()}}}}]);